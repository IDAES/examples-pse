

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Bimetallic Nanocluster Cohesive Energy Minimization - via Labeling &mdash; IDAES v1.6.1 Examples</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
<!-- Add Google fonts -->
<link href="https://fonts.googleapis.com/css?family=Arimo|Roboto&display=swap"
      rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> IDAES Examples
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../workshops/index.html">IDAES Workshop Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">IDAES Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../surrogate_models/index.html">Surrogate Modeling Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html">MatOpt Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IDAES Examples</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Bimetallic Nanocluster Cohesive Energy Minimization - via Labeling</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/matopt/2_Bimetallic_Nanocluster_Design/Bimetallic_Nanocluster_Design.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bimetallic-nanocluster-cohesive-energy-minimization-via-labeling">
<h1>Bimetallic Nanocluster Cohesive Energy Minimization - via Labeling<a class="headerlink" href="#bimetallic-nanocluster-cohesive-energy-minimization-via-labeling" title="Permalink to this headline">¶</a></h1>
<p>This notebook serves as an example application of the MatOpt framework.
We consider an example optimization problem of identifying the global
energy minimum bimetallic nanocluster configuration.</p>
<p>This is a continuation of the example given in
<strong>*Monometallic_Nanocluster_Design.ipynb*</strong>. In this example, we will
show how a very similar model can be used to optimize a bimetallic
cluster by “labelling” the sites of a pre-defined monometallic cluster.</p>
<p>The model for cohesive energy is based on:</p>
<p>Yan, Z., Taylor, M. G., Mascareno, A., &amp; Mpourmpakis, G. (2018). Size-,
Shape-, and Composition-Dependent Model for Metal Nanoparticle Stability
Prediction. <em>Nano Letters</em>, 18(4), 2696-2704.</p>
<div class="section" id="importing-packages">
<h2>Importing Packages<a class="headerlink" href="#importing-packages" title="Permalink to this headline">¶</a></h2>
<p>We start by importing several standard Python modules for convienience.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
</pre></div>
</div>
<p>Then, we import the MatOpt package in its entirety.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">idaes.apps.matopt</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-up-a-material-system">
<h2>Setting Up a Material System<a class="headerlink" href="#setting-up-a-material-system" title="Permalink to this headline">¶</a></h2>
<p>We first identify the optimal metal-independent nanocluster shape, using
the code that wsas demonstrated in
<strong>Monometallic_Nanocluster_Design.ipynb</strong>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Lat</span> <span class="o">=</span> <span class="n">FCCLattice</span><span class="p">(</span><span class="n">IAD</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">Canv</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">()</span>
<span class="n">Canv</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span>
<span class="n">Canv</span><span class="o">.</span><span class="n">addShells</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">Lat</span><span class="o">.</span><span class="n">getNeighbors</span><span class="p">)</span>
<span class="n">Atoms</span> <span class="o">=</span> <span class="p">[</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">)]</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">MatOptModel</span><span class="p">(</span><span class="n">Canv</span><span class="p">,</span><span class="n">Atoms</span><span class="p">)</span>
<span class="n">Vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CN</span><span class="p">)</span> <span class="k">for</span> <span class="n">CN</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span>
<span class="n">BPs</span> <span class="o">=</span> <span class="p">[</span><span class="n">CN</span> <span class="k">for</span> <span class="n">CN</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span>
<span class="n">m</span><span class="o">.</span><span class="n">addSitesDescriptor</span><span class="p">(</span><span class="s1">&#39;CNRi&#39;</span><span class="p">,</span><span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">12</span><span class="p">)),</span><span class="n">integer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                     <span class="n">rules</span><span class="o">=</span><span class="n">PiecewiseLinear</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">Vals</span><span class="p">,</span>
                                           <span class="n">breakpoints</span><span class="o">=</span><span class="n">BPs</span><span class="p">,</span>
                                           <span class="n">input_desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">Ci</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">addGlobalDescriptor</span><span class="p">(</span><span class="s1">&#39;Ecoh&#39;</span><span class="p">,</span><span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumSites</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">CNRi</span><span class="p">,</span>
                                                    <span class="n">coefs</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">12</span><span class="p">))))))</span>
<span class="n">m</span><span class="o">.</span><span class="n">addGlobalDescriptor</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span><span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">N</span><span class="p">),</span>
                      <span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumSites</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">Yi</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This step requires the CPLEX solver</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">D</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">maximize</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">Ecoh</span><span class="p">,</span><span class="n">tilim</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
    <span class="n">D</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># rest of this notebook won&#39;t do much</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Welcome</span> <span class="n">to</span> <span class="n">IBM</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="n">ILOG</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="n">CPLEX</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="n">Interactive</span> <span class="n">Optimizer</span> <span class="n">Community</span> <span class="n">Edition</span> <span class="mf">12.9</span><span class="o">.</span><span class="mf">0.0</span>
  <span class="k">with</span> <span class="n">Simplex</span><span class="p">,</span> <span class="n">Mixed</span> <span class="n">Integer</span> <span class="o">&amp;</span> <span class="n">Barrier</span> <span class="n">Optimizers</span>
<span class="mi">5725</span><span class="o">-</span><span class="n">A06</span> <span class="mi">5725</span><span class="o">-</span><span class="n">A29</span> <span class="mi">5724</span><span class="o">-</span><span class="n">Y48</span> <span class="mi">5724</span><span class="o">-</span><span class="n">Y49</span> <span class="mi">5724</span><span class="o">-</span><span class="n">Y54</span> <span class="mi">5724</span><span class="o">-</span><span class="n">Y55</span> <span class="mi">5655</span><span class="o">-</span><span class="n">Y21</span>
<span class="n">Copyright</span> <span class="n">IBM</span> <span class="n">Corp</span><span class="o">.</span> <span class="mi">1988</span><span class="p">,</span> <span class="mf">2019.</span>  <span class="n">All</span> <span class="n">Rights</span> <span class="n">Reserved</span><span class="o">.</span>

<span class="n">Type</span> <span class="s1">&#39;help&#39;</span> <span class="k">for</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">available</span> <span class="n">commands</span><span class="o">.</span>
<span class="n">Type</span> <span class="s1">&#39;help&#39;</span> <span class="n">followed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">command</span> <span class="n">name</span> <span class="k">for</span> <span class="n">more</span>
<span class="n">information</span> <span class="n">on</span> <span class="n">commands</span><span class="o">.</span>

<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">Logfile</span> <span class="s1">&#39;cplex.log&#39;</span> <span class="n">closed</span><span class="o">.</span>
<span class="n">Logfile</span> <span class="s1">&#39;/tmp/tmpj5cqn5x6.cplex.log&#39;</span> <span class="nb">open</span><span class="o">.</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">New</span> <span class="n">value</span> <span class="k">for</span> <span class="n">absolute</span> <span class="n">mixed</span> <span class="n">integer</span> <span class="n">optimality</span> <span class="n">gap</span> <span class="n">tolerance</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">New</span> <span class="n">value</span> <span class="k">for</span> <span class="n">mixed</span> <span class="n">integer</span> <span class="n">optimality</span> <span class="n">gap</span> <span class="n">tolerance</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">New</span> <span class="n">value</span> <span class="k">for</span> <span class="n">time</span> <span class="n">limit</span> <span class="ow">in</span> <span class="n">seconds</span><span class="p">:</span> <span class="mi">100</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">Problem</span> <span class="s1">&#39;/tmp/tmp8xk1o70_.pyomo.lp&#39;</span> <span class="n">read</span><span class="o">.</span>
<span class="n">Read</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.06</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">Problem</span> <span class="n">name</span>         <span class="p">:</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">tmp8xk1o70_</span><span class="o">.</span><span class="n">pyomo</span><span class="o">.</span><span class="n">lp</span>
<span class="n">Objective</span> <span class="n">sense</span>      <span class="p">:</span> <span class="n">Maximize</span>
<span class="n">Variables</span>            <span class="p">:</span>     <span class="mi">426</span>  <span class="p">[</span><span class="n">Nneg</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>  <span class="n">Fix</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>  <span class="n">Box</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>  <span class="n">Free</span><span class="p">:</span> <span class="mi">157</span><span class="p">,</span>
                                 <span class="n">Binary</span><span class="p">:</span> <span class="mi">241</span><span class="p">,</span>  <span class="n">General</span> <span class="n">Integer</span><span class="p">:</span> <span class="mi">13</span><span class="p">]</span>
<span class="n">Objective</span> <span class="n">nonzeros</span>   <span class="p">:</span>       <span class="mi">1</span>
<span class="n">Linear</span> <span class="n">constraints</span>   <span class="p">:</span>     <span class="mi">583</span>  <span class="p">[</span><span class="n">Less</span><span class="p">:</span> <span class="mi">515</span><span class="p">,</span>  <span class="n">Greater</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>  <span class="n">Equal</span><span class="p">:</span> <span class="mi">55</span><span class="p">]</span>
  <span class="n">Nonzeros</span>           <span class="p">:</span>    <span class="mi">1866</span>
  <span class="n">RHS</span> <span class="n">nonzeros</span>       <span class="p">:</span>      <span class="mi">86</span>

<span class="n">Variables</span>            <span class="p">:</span> <span class="n">Min</span> <span class="n">LB</span><span class="p">:</span> <span class="mf">0.000000</span>         <span class="n">Max</span> <span class="n">UB</span><span class="p">:</span> <span class="mf">12.00000</span>
<span class="n">Objective</span> <span class="n">nonzeros</span>   <span class="p">:</span> <span class="n">Min</span>   <span class="p">:</span> <span class="mf">1.000000</span>         <span class="n">Max</span>   <span class="p">:</span> <span class="mf">1.000000</span>
<span class="n">Linear</span> <span class="n">constraints</span>   <span class="p">:</span>
  <span class="n">Nonzeros</span>           <span class="p">:</span> <span class="n">Min</span>   <span class="p">:</span> <span class="mf">0.04811252</span>       <span class="n">Max</span>   <span class="p">:</span> <span class="mf">12.00000</span>
  <span class="n">RHS</span> <span class="n">nonzeros</span>       <span class="p">:</span> <span class="n">Min</span>   <span class="p">:</span> <span class="mf">1.000000</span>         <span class="n">Max</span>   <span class="p">:</span> <span class="mf">1.000000</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">CPXPARAM_TimeLimit</span>                               <span class="mi">100</span>
<span class="n">CPXPARAM_MIP_Tolerances_AbsMIPGap</span>                <span class="mi">0</span>
<span class="n">CPXPARAM_MIP_Tolerances_MIPGap</span>                   <span class="mi">0</span>
<span class="n">Tried</span> <span class="n">aggregator</span> <span class="mi">2</span> <span class="n">times</span><span class="o">.</span>
<span class="n">MIP</span> <span class="n">Presolve</span> <span class="n">eliminated</span> <span class="mi">171</span> <span class="n">rows</span> <span class="ow">and</span> <span class="mi">147</span> <span class="n">columns</span><span class="o">.</span>
<span class="n">MIP</span> <span class="n">Presolve</span> <span class="n">modified</span> <span class="mi">12</span> <span class="n">coefficients</span><span class="o">.</span>
<span class="n">Aggregator</span> <span class="n">did</span> <span class="mi">38</span> <span class="n">substitutions</span><span class="o">.</span>
<span class="n">Reduced</span> <span class="n">MIP</span> <span class="n">has</span> <span class="mi">374</span> <span class="n">rows</span><span class="p">,</span> <span class="mi">241</span> <span class="n">columns</span><span class="p">,</span> <span class="ow">and</span> <span class="mi">1149</span> <span class="n">nonzeros</span><span class="o">.</span>
<span class="n">Reduced</span> <span class="n">MIP</span> <span class="n">has</span> <span class="mi">156</span> <span class="n">binaries</span><span class="p">,</span> <span class="mi">0</span> <span class="n">generals</span><span class="p">,</span> <span class="mi">0</span> <span class="n">SOSs</span><span class="p">,</span> <span class="ow">and</span> <span class="mi">0</span> <span class="n">indicators</span><span class="o">.</span>
<span class="n">Presolve</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">1.49</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Found</span> <span class="n">incumbent</span> <span class="n">of</span> <span class="n">value</span> <span class="mf">0.521849</span> <span class="n">after</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">2.09</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Probing</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">1.36</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Cover</span> <span class="n">probing</span> <span class="n">fixed</span> <span class="mi">0</span> <span class="nb">vars</span><span class="p">,</span> <span class="n">tightened</span> <span class="mi">1</span> <span class="n">bounds</span><span class="o">.</span>
<span class="n">Tried</span> <span class="n">aggregator</span> <span class="mi">1</span> <span class="n">time</span><span class="o">.</span>
<span class="n">MIP</span> <span class="n">Presolve</span> <span class="n">eliminated</span> <span class="mi">2</span> <span class="n">rows</span> <span class="ow">and</span> <span class="mi">1</span> <span class="n">columns</span><span class="o">.</span>
<span class="n">Reduced</span> <span class="n">MIP</span> <span class="n">has</span> <span class="mi">372</span> <span class="n">rows</span><span class="p">,</span> <span class="mi">240</span> <span class="n">columns</span><span class="p">,</span> <span class="ow">and</span> <span class="mi">1144</span> <span class="n">nonzeros</span><span class="o">.</span>
<span class="n">Reduced</span> <span class="n">MIP</span> <span class="n">has</span> <span class="mi">156</span> <span class="n">binaries</span><span class="p">,</span> <span class="mi">0</span> <span class="n">generals</span><span class="p">,</span> <span class="mi">0</span> <span class="n">SOSs</span><span class="p">,</span> <span class="ow">and</span> <span class="mi">0</span> <span class="n">indicators</span><span class="o">.</span>
<span class="n">Presolve</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">1.50</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Probing</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">1.31</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Clique</span> <span class="n">table</span> <span class="n">members</span><span class="p">:</span> <span class="mf">880.</span>
<span class="n">MIP</span> <span class="n">emphasis</span><span class="p">:</span> <span class="n">balance</span> <span class="n">optimality</span> <span class="ow">and</span> <span class="n">feasibility</span><span class="o">.</span>
<span class="n">MIP</span> <span class="n">search</span> <span class="n">method</span><span class="p">:</span> <span class="n">dynamic</span> <span class="n">search</span><span class="o">.</span>
<span class="n">Parallel</span> <span class="n">mode</span><span class="p">:</span> <span class="n">deterministic</span><span class="p">,</span> <span class="n">using</span> <span class="n">up</span> <span class="n">to</span> <span class="mi">32</span> <span class="n">threads</span><span class="o">.</span>
<span class="n">Root</span> <span class="n">relaxation</span> <span class="n">solution</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">3.19</span> <span class="n">ticks</span><span class="p">)</span>

        <span class="n">Nodes</span>                                         <span class="n">Cuts</span><span class="o">/</span>
   <span class="n">Node</span>  <span class="n">Left</span>     <span class="n">Objective</span>  <span class="n">IInf</span>  <span class="n">Best</span> <span class="n">Integer</span>    <span class="n">Best</span> <span class="n">Bound</span>    <span class="n">ItCnt</span>     <span class="n">Gap</span>

<span class="o">*</span>     <span class="mi">0</span><span class="o">+</span>    <span class="mi">0</span>                            <span class="mf">0.5218</span>        <span class="mf">2.1667</span>           <span class="mf">315.19</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.9861</span>   <span class="mi">105</span>        <span class="mf">0.5218</span>        <span class="mf">0.9861</span>      <span class="mi">278</span>   <span class="mf">88.96</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6455</span>    <span class="mi">96</span>        <span class="mf">0.5218</span>      <span class="n">Cuts</span><span class="p">:</span> <span class="mi">68</span>      <span class="mi">386</span>   <span class="mf">23.69</span><span class="o">%</span>
<span class="o">*</span>     <span class="mi">0</span><span class="o">+</span>    <span class="mi">0</span>                            <span class="mf">0.5485</span>        <span class="mf">0.6455</span>            <span class="mf">17.68</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6351</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>      <span class="n">Cuts</span><span class="p">:</span> <span class="mi">82</span>      <span class="mi">430</span>   <span class="mf">15.80</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6329</span>    <span class="mi">93</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">24</span>      <span class="mi">446</span>   <span class="mf">15.39</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6326</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">34</span>      <span class="mi">465</span>   <span class="mf">15.33</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6324</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>      <span class="n">Cuts</span><span class="p">:</span> <span class="mi">22</span>      <span class="mi">476</span>   <span class="mf">15.29</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6067</span>    <span class="mi">96</span>        <span class="mf">0.5485</span>      <span class="n">Cuts</span><span class="p">:</span> <span class="mi">41</span>      <span class="mi">533</span>   <span class="mf">10.62</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6050</span>    <span class="mi">96</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">19</span>      <span class="mi">553</span>   <span class="mf">10.30</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6048</span>    <span class="mi">97</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">28</span>      <span class="mi">563</span>   <span class="mf">10.27</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6033</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">18</span>      <span class="mi">591</span>    <span class="mf">9.99</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6021</span>    <span class="mi">97</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">20</span>      <span class="mi">619</span>    <span class="mf">9.77</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.6005</span>   <span class="mi">100</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">41</span>      <span class="mi">637</span>    <span class="mf">9.48</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.5994</span>    <span class="mi">95</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">35</span>      <span class="mi">671</span>    <span class="mf">9.28</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.5988</span>    <span class="mi">98</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">12</span>      <span class="mi">686</span>    <span class="mf">9.17</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.5983</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">19</span>      <span class="mi">719</span>    <span class="mf">9.08</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.5980</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">13</span>      <span class="mi">731</span>    <span class="mf">9.02</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.5976</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">11</span>      <span class="mi">753</span>    <span class="mf">8.95</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.5973</span>    <span class="mi">94</span>        <span class="mf">0.5485</span>  <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">15</span>      <span class="mi">769</span>    <span class="mf">8.90</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.5968</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>   <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">4</span>      <span class="mi">793</span>    <span class="mf">8.81</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">0.5963</span>    <span class="mi">99</span>        <span class="mf">0.5485</span>   <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">4</span>      <span class="mi">815</span>    <span class="mf">8.72</span><span class="o">%</span>
<span class="o">*</span>     <span class="mi">0</span><span class="o">+</span>    <span class="mi">0</span>                            <span class="mf">0.5500</span>        <span class="mf">0.5963</span>             <span class="mf">8.42</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="n">cutoff</span>              <span class="mf">0.5500</span>        <span class="mf">0.5500</span>      <span class="mi">831</span>    <span class="mf">0.00</span><span class="o">%</span>
<span class="n">Elapsed</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.13</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">98.42</span> <span class="n">ticks</span><span class="p">,</span> <span class="n">tree</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="n">MB</span><span class="p">,</span> <span class="n">solutions</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>

<span class="n">Clique</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">10</span>
<span class="n">Implied</span> <span class="n">bound</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">20</span>
<span class="n">Zero</span><span class="o">-</span><span class="n">half</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">17</span>
<span class="n">Lift</span> <span class="ow">and</span> <span class="n">project</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">1</span>
<span class="n">Gomory</span> <span class="n">fractional</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">1</span>

<span class="n">Root</span> <span class="n">node</span> <span class="n">processing</span> <span class="p">(</span><span class="n">before</span> <span class="n">b</span><span class="o">&amp;</span><span class="n">c</span><span class="p">):</span>
  <span class="n">Real</span> <span class="n">time</span>             <span class="o">=</span>    <span class="mf">0.13</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">98.44</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Parallel</span> <span class="n">b</span><span class="o">&amp;</span><span class="n">c</span><span class="p">,</span> <span class="mi">32</span> <span class="n">threads</span><span class="p">:</span>
  <span class="n">Real</span> <span class="n">time</span>             <span class="o">=</span>    <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">ticks</span><span class="p">)</span>
  <span class="n">Sync</span> <span class="n">time</span> <span class="p">(</span><span class="n">average</span><span class="p">)</span>   <span class="o">=</span>    <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span>
  <span class="n">Wait</span> <span class="n">time</span> <span class="p">(</span><span class="n">average</span><span class="p">)</span>   <span class="o">=</span>    <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span>
                          <span class="o">------------</span>
<span class="n">Total</span> <span class="p">(</span><span class="n">root</span><span class="o">+</span><span class="n">branch</span><span class="o">&amp;</span><span class="n">cut</span><span class="p">)</span> <span class="o">=</span>    <span class="mf">0.13</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">98.44</span> <span class="n">ticks</span><span class="p">)</span>

<span class="n">Solution</span> <span class="n">pool</span><span class="p">:</span> <span class="mi">3</span> <span class="n">solutions</span> <span class="n">saved</span><span class="o">.</span>

<span class="n">MIP</span> <span class="o">-</span> <span class="n">Integer</span> <span class="n">optimal</span> <span class="n">solution</span><span class="p">:</span>  <span class="n">Objective</span> <span class="o">=</span>  <span class="mf">5.5003296046e-01</span>
<span class="n">Solution</span> <span class="n">time</span> <span class="o">=</span>    <span class="mf">0.14</span> <span class="n">sec</span><span class="o">.</span>  <span class="n">Iterations</span> <span class="o">=</span> <span class="mi">831</span>  <span class="n">Nodes</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">Deterministic</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">98.45</span> <span class="n">ticks</span>  <span class="p">(</span><span class="mf">720.05</span> <span class="n">ticks</span><span class="o">/</span><span class="n">sec</span><span class="p">)</span>

<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">Incumbent</span> <span class="n">solution</span> <span class="n">written</span> <span class="n">to</span> <span class="n">file</span> <span class="s1">&#39;/tmp/tmpyqi28llx.cplex.sol&#39;</span><span class="o">.</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">The</span> <span class="n">solver</span> <span class="n">exited</span> <span class="n">normally</span><span class="o">.</span>
<span class="n">A</span> <span class="n">feasible</span> <span class="ow">and</span> <span class="n">provably</span> <span class="n">optimal</span> <span class="n">solution</span> <span class="ow">is</span> <span class="n">available</span><span class="o">.</span>
<span class="n">The</span> <span class="n">Design</span> <span class="n">has</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.5500329604578591</span>
</pre></div>
</div>
<p>We take the locations from the optimal monometallic problem to
initialize a <strong>*Canvas*</strong> object for the bimetallic case.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Canv</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">()</span>
<span class="k">if</span> <span class="n">D</span><span class="p">:</span>  <span class="c1"># may be None if CPLEX was not found</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">D</span><span class="p">)):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">Contents</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">Canv</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">Canvas</span><span class="o">.</span><span class="n">Points</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="n">Canv</span><span class="o">.</span><span class="n">setNeighborsFromFunc</span><span class="p">(</span><span class="n">Lat</span><span class="o">.</span><span class="n">getNeighbors</span><span class="p">)</span>
</pre></div>
</div>
<p>Additionally, we create a few data structures for holding bimetallic
material information. First, we make a list of multiple <strong>*Atom*</strong>
objects that will be the building blocks of the model. Next, we specify
a dictionary with the bounds to impose on composition.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Atoms</span> <span class="o">=</span> <span class="p">[</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">)]</span>
<span class="n">CompBounds</span> <span class="o">=</span> <span class="p">{</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">):(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
              <span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">):(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="section" id="specifying-an-optimization-model">
<h2>Specifying an Optimization Model<a class="headerlink" href="#specifying-an-optimization-model" title="Permalink to this headline">¶</a></h2>
<p>We start by creating a <strong>*MatOptModel*</strong> object that will hold the
information about the problem variables and constraints. At a minimum,
ever model requires a Canvas object to be defined. Additionally, the
list of building blocks and conformations that are present in the model
should be defined.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">MatOptModel</span><span class="p">(</span><span class="n">Canv</span><span class="p">,</span><span class="n">Atoms</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, several basic variables are pre-defined. See the first
example, <strong>*Monometallic_Nanocluster_Design.ipynb*</strong> for a description
of basic variables, expressions, and constraint rules.</p>
<p>To start, we inidcate that the choice to place an atom is fixed so that
each canvas site is required to have an atom. This simplifies the
problem significantly and results in a model that will seek to find the
optimal labeling of metals on the nanocluster.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">Yi</span><span class="o">.</span><span class="n">rules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">FixedTo</span><span class="p">(</span><span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
<p>Next, we define a descriptor for the energy of bonds as a function of
properties at each site. Since the locations of the atoms are fixed, the
only decision is how to label each site as either Atom A or Atom B. This
allows us to simplify the model and compute coefficients that rely on
coordination number. In the block below, we implement the bimetallic
model for bond energy defined in Yan et al., 2018.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GklCoefs</span> <span class="o">=</span> <span class="p">{(</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">)):</span><span class="mf">3.520</span><span class="p">,</span>
            <span class="p">(</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">)):</span><span class="mf">2.112</span><span class="p">,</span>
            <span class="p">(</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">)):</span><span class="mf">2.580</span><span class="p">,</span>
            <span class="p">(</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">)):</span><span class="mf">3.612</span><span class="p">}</span>
<span class="n">BEijCoefs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Canv</span><span class="p">)):</span>
    <span class="n">CNi</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">Canv</span><span class="o">.</span><span class="n">NeighborhoodIndexes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">Canv</span><span class="o">.</span><span class="n">NeighborhoodIndexes</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="k">if</span><span class="p">(</span><span class="n">j</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">CNj</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">Canv</span><span class="o">.</span><span class="n">NeighborhoodIndexes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">if</span> <span class="n">_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">Atoms</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">Atoms</span><span class="p">:</span>
                    <span class="n">BEijCoefs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">GklCoefs</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">]</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CNi</span><span class="p">)</span> <span class="o">+</span> <span class="n">GklCoefs</span><span class="p">[</span><span class="n">l</span><span class="p">,</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CNj</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">addBondsDescriptor</span><span class="p">(</span><span class="s1">&#39;BEij&#39;</span><span class="p">,</span>
                     <span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumBondTypes</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">Xijkl</span><span class="p">,</span><span class="n">coefs</span><span class="o">=</span><span class="n">BEijCoefs</span><span class="p">)),</span>
                     <span class="n">symmetric_bonds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we define the cohesive energy as a sum of contributions from all
BEij bond descriptors.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">addGlobalDescriptor</span><span class="p">(</span><span class="s1">&#39;Ecoh&#39;</span><span class="p">,</span><span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumBonds</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">BEij</span><span class="p">,</span>
                                                    <span class="n">coefs</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">12</span><span class="p">)))))</span>
</pre></div>
</div>
<p>Finally, we add constraints on the size and composition of the resulting
designs.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">addGlobalTypesDescriptor</span><span class="p">(</span><span class="s1">&#39;Composition&#39;</span><span class="p">,</span><span class="n">bounds</span><span class="o">=</span><span class="n">CompBounds</span><span class="p">,</span>
                           <span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumSites</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">Yik</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="section" id="solving-the-model">
<h2>Solving the Model<a class="headerlink" href="#solving-the-model" title="Permalink to this headline">¶</a></h2>
<p>Once the model is fully specified, we can optimize in light of a global
descriptor. In this example, we choose to maximize the cohesive energy
defined previously. Additionally, we can specify basic optimization
parameters such as the time limit and memory limit* for the optimizer.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">D</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">maximize</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">Ecoh</span><span class="p">,</span><span class="n">tilim</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span><span class="n">trelim</span><span class="o">=</span><span class="mi">4096</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;MaOpt can not find usable solver (CPLEX or NEOS-CPLEX)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span> <span class="n">DEPRECATED</span><span class="p">:</span> <span class="n">SetProduct</span><span class="o">.</span><span class="n">set_tuple</span> <span class="ow">is</span> <span class="n">deprecated</span><span class="o">.</span>  <span class="n">Use</span>
    <span class="n">SetProduct</span><span class="o">.</span><span class="n">subsets</span><span class="p">()</span> <span class="n">to</span> <span class="n">get</span> <span class="n">the</span> <span class="n">operator</span> <span class="n">arguments</span><span class="o">.</span>  <span class="p">(</span><span class="n">deprecated</span> <span class="ow">in</span> <span class="n">TBD</span><span class="p">)</span>
    <span class="p">(</span><span class="n">called</span> <span class="kn">from</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ksb</span><span class="o">/</span><span class="n">anaconda3</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">idaes</span><span class="o">-</span><span class="n">pse</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span>
    <span class="n">packages</span><span class="o">/</span><span class="n">idaes</span><span class="o">/</span><span class="n">apps</span><span class="o">/</span><span class="n">matopt</span><span class="o">/../</span><span class="n">matopt</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pyomo_modeling</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">284</span><span class="p">)</span>

<span class="n">Welcome</span> <span class="n">to</span> <span class="n">IBM</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="n">ILOG</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="n">CPLEX</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="n">Interactive</span> <span class="n">Optimizer</span> <span class="n">Community</span> <span class="n">Edition</span> <span class="mf">12.9</span><span class="o">.</span><span class="mf">0.0</span>
  <span class="k">with</span> <span class="n">Simplex</span><span class="p">,</span> <span class="n">Mixed</span> <span class="n">Integer</span> <span class="o">&amp;</span> <span class="n">Barrier</span> <span class="n">Optimizers</span>
<span class="mi">5725</span><span class="o">-</span><span class="n">A06</span> <span class="mi">5725</span><span class="o">-</span><span class="n">A29</span> <span class="mi">5724</span><span class="o">-</span><span class="n">Y48</span> <span class="mi">5724</span><span class="o">-</span><span class="n">Y49</span> <span class="mi">5724</span><span class="o">-</span><span class="n">Y54</span> <span class="mi">5724</span><span class="o">-</span><span class="n">Y55</span> <span class="mi">5655</span><span class="o">-</span><span class="n">Y21</span>
<span class="n">Copyright</span> <span class="n">IBM</span> <span class="n">Corp</span><span class="o">.</span> <span class="mi">1988</span><span class="p">,</span> <span class="mf">2019.</span>  <span class="n">All</span> <span class="n">Rights</span> <span class="n">Reserved</span><span class="o">.</span>

<span class="n">Type</span> <span class="s1">&#39;help&#39;</span> <span class="k">for</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">available</span> <span class="n">commands</span><span class="o">.</span>
<span class="n">Type</span> <span class="s1">&#39;help&#39;</span> <span class="n">followed</span> <span class="n">by</span> <span class="n">a</span> <span class="n">command</span> <span class="n">name</span> <span class="k">for</span> <span class="n">more</span>
<span class="n">information</span> <span class="n">on</span> <span class="n">commands</span><span class="o">.</span>

<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">Logfile</span> <span class="s1">&#39;cplex.log&#39;</span> <span class="n">closed</span><span class="o">.</span>
<span class="n">Logfile</span> <span class="s1">&#39;/tmp/tmp7yc6tcb8.cplex.log&#39;</span> <span class="nb">open</span><span class="o">.</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">New</span> <span class="n">value</span> <span class="k">for</span> <span class="n">absolute</span> <span class="n">mixed</span> <span class="n">integer</span> <span class="n">optimality</span> <span class="n">gap</span> <span class="n">tolerance</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">New</span> <span class="n">value</span> <span class="k">for</span> <span class="n">mixed</span> <span class="n">integer</span> <span class="n">optimality</span> <span class="n">gap</span> <span class="n">tolerance</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">New</span> <span class="n">value</span> <span class="k">for</span> <span class="n">time</span> <span class="n">limit</span> <span class="ow">in</span> <span class="n">seconds</span><span class="p">:</span> <span class="mi">360</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">New</span> <span class="n">value</span> <span class="k">for</span> <span class="n">upper</span> <span class="n">limit</span> <span class="n">on</span> <span class="n">size</span> <span class="n">of</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">megabytes</span><span class="p">:</span> <span class="mi">4096</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">Problem</span> <span class="s1">&#39;/tmp/tmp6kslbue1.pyomo.lp&#39;</span> <span class="n">read</span><span class="o">.</span>
<span class="n">Read</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.01</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">Problem</span> <span class="n">name</span>         <span class="p">:</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">tmp6kslbue1</span><span class="o">.</span><span class="n">pyomo</span><span class="o">.</span><span class="n">lp</span>
<span class="n">Objective</span> <span class="n">sense</span>      <span class="p">:</span> <span class="n">Maximize</span>
<span class="n">Variables</span>            <span class="p">:</span>      <span class="mi">71</span>  <span class="p">[</span><span class="n">Nneg</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>  <span class="n">Fix</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>  <span class="n">Free</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>  <span class="n">Binary</span><span class="p">:</span> <span class="mi">56</span><span class="p">]</span>
<span class="n">Objective</span> <span class="n">nonzeros</span>   <span class="p">:</span>       <span class="mi">1</span>
<span class="n">Linear</span> <span class="n">constraints</span>   <span class="p">:</span>     <span class="mi">159</span>  <span class="p">[</span><span class="n">Less</span><span class="p">:</span> <span class="mi">138</span><span class="p">,</span>  <span class="n">Equal</span><span class="p">:</span> <span class="mi">21</span><span class="p">]</span>
  <span class="n">Nonzeros</span>           <span class="p">:</span>     <span class="mi">414</span>
  <span class="n">RHS</span> <span class="n">nonzeros</span>       <span class="p">:</span>      <span class="mi">57</span>

<span class="n">Variables</span>            <span class="p">:</span> <span class="n">Min</span> <span class="n">LB</span><span class="p">:</span> <span class="mf">0.000000</span>         <span class="n">Max</span> <span class="n">UB</span><span class="p">:</span> <span class="mf">3.000000</span>
<span class="n">Objective</span> <span class="n">nonzeros</span>   <span class="p">:</span> <span class="n">Min</span>   <span class="p">:</span> <span class="mf">1.000000</span>         <span class="n">Max</span>   <span class="p">:</span> <span class="mf">1.000000</span>
<span class="n">Linear</span> <span class="n">constraints</span>   <span class="p">:</span>
  <span class="n">Nonzeros</span>           <span class="p">:</span> <span class="n">Min</span>   <span class="p">:</span> <span class="mf">0.04811252</span>       <span class="n">Max</span>   <span class="p">:</span> <span class="mf">4.064546</span>
  <span class="n">RHS</span> <span class="n">nonzeros</span>       <span class="p">:</span> <span class="n">Min</span>   <span class="p">:</span> <span class="mf">1.000000</span>         <span class="n">Max</span>   <span class="p">:</span> <span class="mf">1.000000</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">CPXPARAM_TimeLimit</span>                               <span class="mi">360</span>
<span class="n">CPXPARAM_MIP_Tolerances_AbsMIPGap</span>                <span class="mi">0</span>
<span class="n">CPXPARAM_MIP_Tolerances_MIPGap</span>                   <span class="mi">0</span>
<span class="n">CPXPARAM_MIP_Limits_TreeMemory</span>                   <span class="mi">4096</span>
<span class="n">Tried</span> <span class="n">aggregator</span> <span class="mi">2</span> <span class="n">times</span><span class="o">.</span>
<span class="n">MIP</span> <span class="n">Presolve</span> <span class="n">eliminated</span> <span class="mi">20</span> <span class="n">rows</span> <span class="ow">and</span> <span class="mi">15</span> <span class="n">columns</span><span class="o">.</span>
<span class="n">Aggregator</span> <span class="n">did</span> <span class="mi">6</span> <span class="n">substitutions</span><span class="o">.</span>
<span class="n">Reduced</span> <span class="n">MIP</span> <span class="n">has</span> <span class="mi">133</span> <span class="n">rows</span><span class="p">,</span> <span class="mi">50</span> <span class="n">columns</span><span class="p">,</span> <span class="ow">and</span> <span class="mi">314</span> <span class="n">nonzeros</span><span class="o">.</span>
<span class="n">Reduced</span> <span class="n">MIP</span> <span class="n">has</span> <span class="mi">50</span> <span class="n">binaries</span><span class="p">,</span> <span class="mi">0</span> <span class="n">generals</span><span class="p">,</span> <span class="mi">0</span> <span class="n">SOSs</span><span class="p">,</span> <span class="ow">and</span> <span class="mi">0</span> <span class="n">indicators</span><span class="o">.</span>
<span class="n">Presolve</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.44</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Found</span> <span class="n">incumbent</span> <span class="n">of</span> <span class="n">value</span> <span class="mf">1.546227</span> <span class="n">after</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.80</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Probing</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.23</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Tried</span> <span class="n">aggregator</span> <span class="mi">1</span> <span class="n">time</span><span class="o">.</span>
<span class="n">Reduced</span> <span class="n">MIP</span> <span class="n">has</span> <span class="mi">133</span> <span class="n">rows</span><span class="p">,</span> <span class="mi">50</span> <span class="n">columns</span><span class="p">,</span> <span class="ow">and</span> <span class="mi">314</span> <span class="n">nonzeros</span><span class="o">.</span>
<span class="n">Reduced</span> <span class="n">MIP</span> <span class="n">has</span> <span class="mi">50</span> <span class="n">binaries</span><span class="p">,</span> <span class="mi">0</span> <span class="n">generals</span><span class="p">,</span> <span class="mi">0</span> <span class="n">SOSs</span><span class="p">,</span> <span class="ow">and</span> <span class="mi">0</span> <span class="n">indicators</span><span class="o">.</span>
<span class="n">Presolve</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.30</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Probing</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.23</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Clique</span> <span class="n">table</span> <span class="n">members</span><span class="p">:</span> <span class="mf">263.</span>
<span class="n">MIP</span> <span class="n">emphasis</span><span class="p">:</span> <span class="n">balance</span> <span class="n">optimality</span> <span class="ow">and</span> <span class="n">feasibility</span><span class="o">.</span>
<span class="n">MIP</span> <span class="n">search</span> <span class="n">method</span><span class="p">:</span> <span class="n">dynamic</span> <span class="n">search</span><span class="o">.</span>
<span class="n">Parallel</span> <span class="n">mode</span><span class="p">:</span> <span class="n">deterministic</span><span class="p">,</span> <span class="n">using</span> <span class="n">up</span> <span class="n">to</span> <span class="mi">32</span> <span class="n">threads</span><span class="o">.</span>
<span class="n">Root</span> <span class="n">relaxation</span> <span class="n">solution</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.30</span> <span class="n">ticks</span><span class="p">)</span>

        <span class="n">Nodes</span>                                         <span class="n">Cuts</span><span class="o">/</span>
   <span class="n">Node</span>  <span class="n">Left</span>     <span class="n">Objective</span>  <span class="n">IInf</span>  <span class="n">Best</span> <span class="n">Integer</span>    <span class="n">Best</span> <span class="n">Bound</span>    <span class="n">ItCnt</span>     <span class="n">Gap</span>

<span class="o">*</span>     <span class="mi">0</span><span class="o">+</span>    <span class="mi">0</span>                            <span class="mf">1.5462</span>        <span class="mf">6.5036</span>           <span class="mf">320.61</span><span class="o">%</span>
<span class="o">*</span>     <span class="mi">0</span><span class="o">+</span>    <span class="mi">0</span>                            <span class="mf">1.6517</span>        <span class="mf">6.5036</span>           <span class="mf">293.74</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">3.2518</span>    <span class="mi">50</span>        <span class="mf">1.6517</span>        <span class="mf">3.2518</span>       <span class="mi">50</span>   <span class="mf">96.87</span><span class="o">%</span>
<span class="o">*</span>     <span class="mi">0</span><span class="o">+</span>    <span class="mi">0</span>                            <span class="mf">1.6556</span>        <span class="mf">3.2518</span>            <span class="mf">96.41</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">2.1027</span>    <span class="mi">38</span>        <span class="mf">1.6556</span>     <span class="n">Cuts</span><span class="p">:</span> <span class="mi">112</span>       <span class="mi">96</span>   <span class="mf">27.01</span><span class="o">%</span>
<span class="o">*</span>     <span class="mi">0</span><span class="o">+</span>    <span class="mi">0</span>                            <span class="mf">1.6754</span>        <span class="mf">2.1027</span>            <span class="mf">25.50</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">1.8260</span>    <span class="mi">31</span>        <span class="mf">1.6754</span>      <span class="n">Cuts</span><span class="p">:</span> <span class="mi">41</span>      <span class="mi">120</span>    <span class="mf">8.99</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">1.8217</span>    <span class="mi">16</span>        <span class="mf">1.6754</span>   <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">9</span>      <span class="mi">121</span>    <span class="mf">8.73</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">1.8121</span>    <span class="mi">33</span>        <span class="mf">1.6754</span>   <span class="n">ZeroHalf</span><span class="p">:</span> <span class="mi">2</span>      <span class="mi">124</span>    <span class="mf">8.16</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="mf">1.7548</span>    <span class="mi">15</span>        <span class="mf">1.6754</span>       <span class="n">Cuts</span><span class="p">:</span> <span class="mi">7</span>      <span class="mi">126</span>    <span class="mf">4.74</span><span class="o">%</span>
      <span class="mi">0</span>     <span class="mi">0</span>        <span class="n">cutoff</span>              <span class="mf">1.6754</span>                    <span class="mi">129</span>     <span class="o">---</span>
<span class="n">Elapsed</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">0.10</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">8.81</span> <span class="n">ticks</span><span class="p">,</span> <span class="n">tree</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="n">MB</span><span class="p">,</span> <span class="n">solutions</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>

<span class="n">Clique</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">40</span>
<span class="n">Implied</span> <span class="n">bound</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">6</span>
<span class="n">Zero</span><span class="o">-</span><span class="n">half</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">13</span>
<span class="n">Lift</span> <span class="ow">and</span> <span class="n">project</span> <span class="n">cuts</span> <span class="n">applied</span><span class="p">:</span>  <span class="mi">1</span>

<span class="n">Root</span> <span class="n">node</span> <span class="n">processing</span> <span class="p">(</span><span class="n">before</span> <span class="n">b</span><span class="o">&amp;</span><span class="n">c</span><span class="p">):</span>
  <span class="n">Real</span> <span class="n">time</span>             <span class="o">=</span>    <span class="mf">0.10</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">8.81</span> <span class="n">ticks</span><span class="p">)</span>
<span class="n">Parallel</span> <span class="n">b</span><span class="o">&amp;</span><span class="n">c</span><span class="p">,</span> <span class="mi">32</span> <span class="n">threads</span><span class="p">:</span>
  <span class="n">Real</span> <span class="n">time</span>             <span class="o">=</span>    <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">0.00</span> <span class="n">ticks</span><span class="p">)</span>
  <span class="n">Sync</span> <span class="n">time</span> <span class="p">(</span><span class="n">average</span><span class="p">)</span>   <span class="o">=</span>    <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span>
  <span class="n">Wait</span> <span class="n">time</span> <span class="p">(</span><span class="n">average</span><span class="p">)</span>   <span class="o">=</span>    <span class="mf">0.00</span> <span class="n">sec</span><span class="o">.</span>
                          <span class="o">------------</span>
<span class="n">Total</span> <span class="p">(</span><span class="n">root</span><span class="o">+</span><span class="n">branch</span><span class="o">&amp;</span><span class="n">cut</span><span class="p">)</span> <span class="o">=</span>    <span class="mf">0.10</span> <span class="n">sec</span><span class="o">.</span> <span class="p">(</span><span class="mf">8.81</span> <span class="n">ticks</span><span class="p">)</span>

<span class="n">Solution</span> <span class="n">pool</span><span class="p">:</span> <span class="mi">4</span> <span class="n">solutions</span> <span class="n">saved</span><span class="o">.</span>

<span class="n">MIP</span> <span class="o">-</span> <span class="n">Integer</span> <span class="n">optimal</span> <span class="n">solution</span><span class="p">:</span>  <span class="n">Objective</span> <span class="o">=</span>  <span class="mf">1.6754118151e+00</span>
<span class="n">Solution</span> <span class="n">time</span> <span class="o">=</span>    <span class="mf">0.10</span> <span class="n">sec</span><span class="o">.</span>  <span class="n">Iterations</span> <span class="o">=</span> <span class="mi">129</span>  <span class="n">Nodes</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">Deterministic</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">8.81</span> <span class="n">ticks</span>  <span class="p">(</span><span class="mf">84.33</span> <span class="n">ticks</span><span class="o">/</span><span class="n">sec</span><span class="p">)</span>

<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">Incumbent</span> <span class="n">solution</span> <span class="n">written</span> <span class="n">to</span> <span class="n">file</span> <span class="s1">&#39;/tmp/tmp8y1te3wh.cplex.sol&#39;</span><span class="o">.</span>
<span class="n">CPLEX</span><span class="o">&gt;</span> <span class="n">The</span> <span class="n">solver</span> <span class="n">exited</span> <span class="n">normally</span><span class="o">.</span>
<span class="n">A</span> <span class="n">feasible</span> <span class="ow">and</span> <span class="n">provably</span> <span class="n">optimal</span> <span class="n">solution</span> <span class="ow">is</span> <span class="n">available</span><span class="o">.</span>
<span class="n">The</span> <span class="n">Design</span> <span class="n">has</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.6754118151174977</span>
</pre></div>
</div>
</div>
<div class="section" id="processing-solutions">
<h2>Processing Solutions<a class="headerlink" href="#processing-solutions" title="Permalink to this headline">¶</a></h2>
<p>If a design was identified (optimal or otherwise), then a <strong>*Design*</strong>
object is returned from the optimization method. The optimal design can
be plotted via any of the supported parsers.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">D</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">D</span><span class="o">.</span><span class="n">toPDB</span><span class="p">(</span><span class="s1">&#39;result.pdb&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        
        &copy; <a href="../../copyright.html">Copyright</a> DOE Institute for the Design of Advanced Energy Systems (IDAES), 2018-2020

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<div id="bottombanner">
    The IDAES team:
    <ul>
        <li>National Energy Technology Laboratory (Lead)</li>
        <li>Sandia National Laboratory</li>
        <li>Lawrence Berkeley National Laboratory</li>
        <li>Carnegie-Mellon University (subcontract to LBNL)</li>
        <li>West Virginia University (subcontract to LBNL)</li>
    </ul>
    <div id="contactinfo">
        General, background and overview information<br/> is available at the
        <a href="https://www.idaes.org>">IDAES main website</a>
    </div>
</div>


</body>
</html>