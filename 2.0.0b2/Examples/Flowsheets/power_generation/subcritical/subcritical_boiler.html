<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Subcritical Power Plant Flowsheet Example &mdash; IDAES v2.0.0b2 Examples</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
<!-- Add Google fonts -->
<link href="https://fonts.googleapis.com/css?family=Arimo|Roboto&display=swap"
      rel="stylesheet">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> IDAES Examples
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Tutorials/index.html">IDAES Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">IDAES Examples</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Subcritical Power Plant Flowsheet Example</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/Examples/Flowsheets/power_generation/subcritical/subcritical_boiler.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="subcritical-power-plant-flowsheet-example">
<h1>Subcritical Power Plant Flowsheet Example<a class="headerlink" href="#subcritical-power-plant-flowsheet-example" title="Permalink to this heading">¶</a></h1>
<section id="subcritical-boiler-recirculation-system">
<h2>Subcritical Boiler Recirculation System<a class="headerlink" href="#subcritical-boiler-recirculation-system" title="Permalink to this heading">¶</a></h2>
<p>This example demonstrates a steady-state simulation of a subcritical
pulverized coal boiler - recirculation system only. The boiler maintains
circulation through the steam drum, downcomer, and waterwall by natural
circulation. Natural circulation boilers rely on feedwater temperature
and the resulting density differences in the drum and vertical tubes in
the waterwall to promote circulation by gravity. See the
<code class="docutils literal notranslate"><span class="pre">supercritical_steam_cycle.py</span></code> for more information on how to assemble
the flowsheet.</p>
<p>This example does not represent any particular power plant but should be
a reasonable approximation of a subcritical boiler (recirculation
system).</p>
</section>
<section id="introduction">
<h2>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>This example demonstrates a simulation of a subcritical pulverized coal
boiler - recirculation system only. <code class="docutils literal notranslate"><span class="pre">subcritical_boiler.py</span></code> includes
four modules (main, create_model, initialize and set_inputs).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">main()</span></code> function creates the Pyomo concrete model and calls for
the other functions to build the flowsheet, set inputs, initialize each
unit, and solve the flowsheet.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">create_model()</span></code> function imports three units from power plant
library (drum, downcomer, and waterwall sections). Then, it builds two
arcs one to connect the drum liquid outlet to the downcomer tube/pipe
model, and the other to connect the downcomer outlet to the first
section of the waterwall sections model (first from bottom up). The
waterwall sections model consists of several tube models interconnected,
where, the outlet of each section connects with the next section.
Finally, the last section connects with the drum (water_steam_inlet).</p>
<p>In the drum the water steam mixture is separated, and the vapor leaves
the top of the drum (as steam outlet). The separation is calculated
using the IAPWS95 steam properties. Feedwater enters the drum from the
economizer. The steam leaving the <code class="docutils literal notranslate"><span class="pre">drum</span></code> is heated in the
superheaters, using hot flue gases, before it passes to the
high-pressure turbine inlet as main steam. At this point superheaters
have not been included in this simulation.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">initialize()</span></code> function uses the initial guess to initialize the
models. Each model at the time, and using the solution from the previous
interconnected model. The <code class="docutils literal notranslate"><span class="pre">set_inputs()</span></code> function unfixes the inlet
streams of the intermediate units and fixes the appropiate variables
(feedwater_inlet flow_mol and enth_mol).</p>
</section>
</section>
<section id="problem-statement">
<h1>2. Problem Statement<a class="headerlink" href="#problem-statement" title="Permalink to this heading">¶</a></h1>
<p>For a given feedwater flowrate and enthalpy, heat duty to each water
wall section, drum level, and unit dimensions, calculate the drum steam
outlet, slag temperature at each water wall section, inlet pressure of
the feedwater system, and recirculation flowrate of the system.</p>
<section id="main-inputs">
<h2>2.1. Main Inputs:<a class="headerlink" href="#main-inputs" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>FeedWater Inlet (F - mol/s, h - j/mol) from the economizer</p></li>
<li><p>Drum: drum level - m, number of downcomers, and dimensions</p></li>
<li><p>Downcomer: number of downcomer tubes, and dimensions</p></li>
<li><p>Waterwall Section: number of water wall sections, slag thickness, and
tube dimensions</p></li>
<li><p>Heat Duty (in Watts) from fire side of the boiler, for this
simplified simulation heat duty to each water wall section is fixed</p></li>
</ul>
</section>
<section id="main-outputs">
<h2>2.2. Main Outputs:<a class="headerlink" href="#main-outputs" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Streams (F - mol/s, P - Pa, h - j/mol)</p></li>
<li><p>Feedwater pressure (Pa)</p></li>
<li><p>vapor fraction in raisers (waterwall sections)</p></li>
<li><p>slag temperature (used in heat fire side model in the future) (in K)</p></li>
<li><p>recirculation flowrate of the system (mol/s)</p></li>
</ul>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="s2">&quot;sub_boiler_1.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../../../_images/output_3_01.png" src="../../../../_images/output_3_01.png" />
</section>
<section id="results">
<h2>3. Results<a class="headerlink" href="#results" title="Permalink to this heading">¶</a></h2>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="c1"># Import Pyomo libraries</span>
<span class="kn">import</span> <span class="nn">pyomo.environ</span> <span class="k">as</span> <span class="nn">pyo</span>
<span class="kn">from</span> <span class="nn">pyomo.network</span> <span class="kn">import</span> <span class="n">Arc</span>
<span class="c1"># Import IDAES core</span>
<span class="kn">from</span> <span class="nn">idaes.core</span> <span class="kn">import</span> <span class="n">FlowsheetBlock</span>
<span class="kn">from</span> <span class="nn">idaes.core.util.model_statistics</span> <span class="kn">import</span> <span class="n">degrees_of_freedom</span>
<span class="kn">from</span> <span class="nn">idaes.core.util</span> <span class="kn">import</span> <span class="n">model_serializer</span> <span class="k">as</span> <span class="n">ms</span>
<span class="kn">import</span> <span class="nn">idaes.core.util.scaling</span> <span class="k">as</span> <span class="nn">iscale</span>
<span class="c1"># Import Unit Model Modules</span>
<span class="kn">from</span> <span class="nn">idaes.models.properties</span> <span class="kn">import</span> <span class="n">iapws95</span>

<span class="c1"># Import IDAES standard unit model</span>
<span class="kn">import</span> <span class="nn">idaes.logger</span> <span class="k">as</span> <span class="nn">idaeslog</span>
<span class="kn">from</span> <span class="nn">idaes.models_extra.power_generation.unit_models.drum</span> <span class="kn">import</span> <span class="n">Drum</span>
<span class="kn">from</span> <span class="nn">idaes.models_extra.power_generation.unit_models.downcomer</span> <span class="kn">import</span> <span class="n">Downcomer</span>
<span class="kn">from</span> <span class="nn">idaes.models_extra.power_generation.unit_models.waterwall_section</span> <span class="kn">import</span> \
    <span class="n">WaterwallSection</span>
<span class="kn">from</span> <span class="nn">idaes.models_extra.power_generation.properties.flue_gas_ideal</span> <span class="kn">import</span> \
    <span class="n">FlueGasParameterBlock</span>

<span class="c1"># import subcritical functions</span>
<span class="kn">import</span> <span class="nn">idaes.models_extra.power_generation.flowsheets.subcritical_power_plant.subcritical_boiler</span> <span class="k">as</span> <span class="nn">sub</span>


<span class="c1"># Create a Concrete Model as the top level object</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">ConcreteModel</span><span class="p">()</span>
<span class="c1"># Add a flowsheet object to the model</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span> <span class="o">=</span> <span class="n">FlowsheetBlock</span><span class="p">(</span><span class="n">dynamic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># Add property packages to flowsheet library</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">prop_water</span> <span class="o">=</span> <span class="n">iapws95</span><span class="o">.</span><span class="n">Iapws95ParameterBlock</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">prop_gas</span> <span class="o">=</span> <span class="n">FlueGasParameterBlock</span><span class="p">()</span>

<span class="c1"># create drum, downcomer, waterwall section models and connections</span>
<span class="n">sub</span><span class="o">.</span><span class="n">create_model</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1"># set inputs (equipment dimensions and inlet conditions)</span>
<span class="n">sub</span><span class="o">.</span><span class="n">set_inputs</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<span class="c1"># initialize each model at the time</span>
<span class="n">sub</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">outlvl</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2022</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">19</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="mi">33</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">unknown</span><span class="p">:</span> <span class="n">Starting</span> <span class="n">initialization</span><span class="o">...</span>


<span class="n">Initializing</span> <span class="kn">from</span> <span class="nn">json</span> <span class="n">file</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">pyomo</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">PyomoModel</span><span class="o">.</span><span class="n">ConcreteModel</span> <span class="n">at</span> <span class="mh">0x7fc8a608fdb0</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># solve simulation with fixed feedwater inlet flowrate and enthalpy, fixed heat duty to waterwalls, and fixed drum level.</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">SolverFactory</span><span class="p">(</span><span class="s1">&#39;ipopt&#39;</span><span class="p">)</span>
<span class="n">optarg</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tol&quot;</span><span class="p">:</span><span class="mf">1e-6</span><span class="p">,</span>
         <span class="s2">&quot;max_iter&quot;</span><span class="p">:</span><span class="mi">20</span><span class="p">}</span>
<span class="n">solver</span><span class="o">.</span><span class="n">options</span><span class="o">=</span><span class="n">optarg</span>

<span class="c1"># fix inlets</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">pressure</span><span class="p">[:]</span><span class="o">.</span><span class="n">unfix</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">enth_mol</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">()</span>

<span class="c1"># set scaling parameters</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">ww_zones</span><span class="p">:</span>
    <span class="n">iscale</span><span class="o">.</span><span class="n">set_scaling_factor</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">heat_flux_conv</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">1e-5</span><span class="p">)</span>
<span class="n">iscale</span><span class="o">.</span><span class="n">calculate_scaling_factors</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>

<span class="c1"># solve IDAES flowsheet</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">tee</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># print custom results</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Drum feedwater inlet&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">WaterWall Outlet&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">water_steam_inlet</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">downcomer inlet&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">downcomer</span><span class="o">.</span><span class="n">inlet</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">waterwall inlet&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">inlet</span><span class="o">.</span><span class="n">display</span><span class="p">()</span>
</pre></div>
</div>
<pre class="literal-block">2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.drum.control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.drum.control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.drum.deltaP_gravity[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.drum.deltaP_contraction[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.downcomer.control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.downcomer.control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.downcomer.N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.downcomer.friction_factor_darcy[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.downcomer.deltaP_gravity[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.downcomer.deltaP_friction[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.downcomer.control_volume.properties_in[0.0].visc_d_phase[Liq]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[1].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[1].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[1].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[1].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[1].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[1].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[1].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[2].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[2].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[2].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[2].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[2].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[2].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[2].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[3].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[3].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[3].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[3].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[3].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[3].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[3].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[4].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[4].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[4].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[4].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[4].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[4].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[4].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[5].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[5].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[5].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[5].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[5].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[5].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[5].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[6].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[6].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[6].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[6].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[6].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[6].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[6].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[7].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[7].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[7].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[7].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[7].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[7].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[7].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[8].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[8].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[8].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[8].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[8].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[8].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[8].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[9].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[9].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[9].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[9].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[9].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[9].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[9].energy_holdup_metal[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[10].control_volume.volume
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[10].control_volume.heat
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[10].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[10].N_Re[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[10].tube_diameter
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[10].energy_holdup_slag[0.0]
2022-12-07 19:08:33 [WARNING] idaes.core.util.scaling: Missing scaling factor for fs.Waterwalls[10].energy_holdup_metal[0.0]
Ipopt 3.13.2: tol=1e-06
max_iter=20


<strong>**************************************************************************</strong>
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit <a class="reference external" href="http://projects.coin-or.org/Ipopt">http://projects.coin-or.org/Ipopt</a>

This version of Ipopt was compiled from source code available at
    <a class="reference external" href="https://github.com/IDAES/Ipopt">https://github.com/IDAES/Ipopt</a> as part of the Institute for the Design of
    Advanced Energy Systems Process Systems Engineering Framework (IDAES PSE
    Framework) Copyright (c) 2018-2019. See <a class="reference external" href="https://github.com/IDAES/idaes-pse">https://github.com/IDAES/idaes-pse</a>.

This version of Ipopt was compiled using HSL, a collection of Fortran codes
    for large-scale scientific computation.  All technical papers, sales and
    publicity material resulting from use of the HSL codes within IPOPT must
    contain the following acknowledgement:
        HSL, a collection of Fortran codes for large-scale scientific
        computation. See <a class="reference external" href="http://www.hsl.rl.ac.uk">http://www.hsl.rl.ac.uk</a>.
<strong>**************************************************************************</strong>

This is Ipopt version 3.13.2, running with linear solver ma27.

Number of nonzeros in equality constraint Jacobian...:     1258
Number of nonzeros in inequality constraint Jacobian.:        0
Number of nonzeros in Lagrangian Hessian.............:      729

Total number of variables............................:      430
                     variables with only lower bounds:        0
                variables with lower and upper bounds:       59
                     variables with only upper bounds:        0
Total number of equality constraints.................:      430
Total number of inequality constraints...............:        0
        inequality constraints with only lower bounds:        0
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:        0

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  0.0000000e+00 2.01e+01 0.00e+00  -1.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  0.0000000e+00 3.15e-02 3.29e+00  -1.0 1.24e+03    -  9.90e-01 1.00e+00h  1
   2  0.0000000e+00 7.66e-07 5.95e-02  -1.0 9.27e-01    -  9.90e-01 1.00e+00h  1

Number of Iterations....: 2

                                   (scaled)                 (unscaled)
Objective...............:   0.0000000000000000e+00    0.0000000000000000e+00
Dual infeasibility......:   0.0000000000000000e+00    0.0000000000000000e+00
Constraint violation....:   7.6636331414192682e-07    7.6636331414192682e-07
Complementarity.........:   0.0000000000000000e+00    0.0000000000000000e+00
Overall NLP error.......:   7.6636331414192682e-07    7.6636331414192682e-07


Number of objective function evaluations             = 3
Number of objective gradient evaluations             = 3
Number of equality constraint evaluations            = 3
Number of inequality constraint evaluations          = 0
Number of equality constraint Jacobian evaluations   = 3
Number of inequality constraint Jacobian evaluations = 0
Number of Lagrangian Hessian evaluations             = 2
Total CPU secs in IPOPT (w/o function evaluations)   =      0.046
Total CPU secs in NLP function evaluations           =      0.082

EXIT: Optimal Solution Found.

Drum feedwater inlet
feedwater_inlet : Size=1
    Key  : Name     : Value
    None : enth_mol : {0.0: 22723.907}
         : flow_mol : {0.0: 4630.6098}
         : pressure : {0.0: 10905220.12549544}

WaterWall Outlet
water_steam_inlet : Size=1
    Key  : Name     : Value
    None : enth_mol : {0.0: 26586.633821621035}
         : flow_mol : {0.0: 199462.5751437957}
         : pressure : {0.0: 10905220.12549544}

downcomer inlet
inlet : Size=1
    Key  : Name     : Value
    None : enth_mol : {0.0: 25981.507762193673}
         : flow_mol : {0.0: 199462.5751437957}
         : pressure : {0.0: 10878220.502154687}

waterwall inlet
inlet : Size=1
    Key  : Name     : Value
    None : enth_mol : {0.0: 25981.507762193673}
         : flow_mol : {0.0: 199462.5751437957}
         : pressure : {0.0: 11113859.366815383}</pre>
</section>
<section id="sensitivity-analysis-1-slag-layer-thickness">
<h2>3.1. Sensitivity Analysis 1: Slag Layer Thickness<a class="headerlink" href="#sensitivity-analysis-1-slag-layer-thickness" title="Permalink to this heading">¶</a></h2>
<p>This sensitivity analysis demonstrates one of the main features of the
waterwall section model, by computing the temperature of the slag
deposited on the tube surface. The results show that for a given fire
side heat duty for each zone the slag layer temperature in each water
wall section increases when slag layer thickness increase.</p>
<p>The slag temperature is a very important parameter, because if slag
temperature exceeds the melting temperature, this can cause fast build
up of slag layer and may cause damage of the boiler waterwall.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># slack thickness (upper bound 0.009)</span>
<span class="n">slag_thk</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.002</span><span class="p">,</span> <span class="mf">0.003</span><span class="p">]</span>

<span class="n">steam_outlet</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">vap_frac</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">slag_temp</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">slag_thk</span><span class="p">:</span>
    <span class="n">count</span> <span class="o">=</span> <span class="n">count</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">slag_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="n">results</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">tee</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">termination_condition</span> <span class="o">==</span> \
        <span class="n">pyo</span><span class="o">.</span><span class="n">TerminationCondition</span><span class="o">.</span><span class="n">optimal</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;iter &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span><span class="o">+</span> <span class="s1">&#39; = EXIT- Optimal Solution Found.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;iter &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span><span class="o">+</span> <span class="s1">&#39; = infeasible&#39;</span><span class="p">)</span>
    <span class="n">steam_outlet</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">steam_outlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="n">vap_frac</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">control_volume</span><span class="o">.</span><span class="n">properties_out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">vapor_frac</span><span class="p">))</span>
    <span class="n">slag_temp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">temp_slag_boundary</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">iter</span> <span class="mi">1</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">2</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">3</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="id1">
<h2>3.1. Results<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p>As it can be observed below, the steam flowrate and vapor fraction have
not been impacted by incrementing the slag thickness, however, the slag
temperature increased considerably. In reality, the slag thickness
impacts the heat transfer in the system, therefore, the heat to the
water wall must change. The model did not capture this issue because
heat transfer is fixed. An integrated fire-water side model would
capture this phenomenon and change the heat to the waterwall, obtaning
different steam outlet and vapor fractions.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Vapor flowrate from drum mol/s&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">steam_outlet</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Vapor fraction from waterwall section 10&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vap_frac</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Slag temperature in K&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">slag_temp</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Vapor</span> <span class="n">flowrate</span> <span class="kn">from</span> <span class="nn">drum</span> <span class="n">mol</span><span class="o">/</span><span class="n">s</span>
<span class="p">[</span><span class="mf">4630.609800000009</span><span class="p">,</span> <span class="mf">4630.609799999985</span><span class="p">,</span> <span class="mf">4630.609799999985</span><span class="p">]</span>

<span class="n">Vapor</span> <span class="n">fraction</span> <span class="kn">from</span> <span class="nn">waterwall</span> <span class="n">section</span> <span class="mi">10</span>
<span class="p">[</span><span class="mf">0.023215431750351657</span><span class="p">,</span> <span class="mf">0.023215431750347192</span><span class="p">,</span> <span class="mf">0.023215431750350925</span><span class="p">]</span>

<span class="n">Slag</span> <span class="n">temperature</span> <span class="ow">in</span> <span class="n">K</span>
<span class="p">[</span><span class="mf">665.5274485403776</span><span class="p">,</span> <span class="mf">729.2839253291421</span><span class="p">,</span> <span class="mf">793.0487730170122</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="sensitivity-analysis-2-boiler-load">
<h2>3.2. Sensitivity Analysis 2: Boiler Load<a class="headerlink" href="#sensitivity-analysis-2-boiler-load" title="Permalink to this heading">¶</a></h2>
<p>The heat transfer and energy balance play a very important role in this
system, for example, since the drum level and pressure are fixed, the
heat transfer rate (or heat duty) to the water side will determine the
amount of steam produced.</p>
<p>This sensitivity analysis demonstrates that increasing the boiler load
or coal flowrate (in this case incrementing the heat duty) results in
increasing the feedwater flowrate and therefore the flowrate of steam
leaving the drum unit.</p>
<p>Degrees of Freedom: In this case, the system is fully determined by
fixing the feedwater_inlet enthalpy and pressure, drum level, and heat
duty to water wall. Then we perform several simulations by gradually
increasing the heat duty to the waterwalls and calculating the
feedwater_inlet flowrate for each case.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># reload initial point</span>
<span class="kn">from</span> <span class="nn">idaes.core.util</span> <span class="kn">import</span> <span class="n">model_serializer</span> <span class="k">as</span> <span class="n">ms</span>
<span class="n">ms</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">fname</span><span class="o">=</span><span class="s2">&quot;subcritical_boiler_init.json.gz&quot;</span><span class="p">)</span>

<span class="c1"># create dictionaries to store results</span>
<span class="n">vap_frac</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># vapor fraction outlet (zone 10)</span>
<span class="n">flow</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># feedwater flowrate</span>
<span class="n">recir_flow</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># recirculation flow</span>
<span class="n">recir_ratio</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># recirculation ratio</span>
<span class="n">slag_temp</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># slag layer temperature</span>

<span class="c1"># incrementing 10 % each run</span>
<span class="n">flow_it</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">1.3</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">,</span>
           <span class="mf">1.8</span><span class="p">,</span> <span class="mf">1.9</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">,</span>
           <span class="mf">2.5</span><span class="p">,</span> <span class="mf">2.6</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">,</span> <span class="mf">2.8</span><span class="p">,</span> <span class="mf">2.9</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<span class="n">count1</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">flow_it</span><span class="p">:</span>
    <span class="n">count1</span> <span class="o">=</span> <span class="n">count1</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">2.3e7</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">1.5e7</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">6.8e6</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">1.2e7</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">1.2e7</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">1.2e7</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">1.0e7</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">9.9e6</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">2.1e7</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">heat_fireside</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">2.0e7</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="c1"># unfix flowrate</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[:]</span><span class="o">.</span><span class="n">unfix</span><span class="p">()</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">pressure</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">()</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">enth_mol</span><span class="p">[:]</span><span class="o">.</span><span class="n">fix</span><span class="p">()</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">tee</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">results</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">termination_condition</span> <span class="o">==</span> \
        <span class="n">pyo</span><span class="o">.</span><span class="n">TerminationCondition</span><span class="o">.</span><span class="n">optimal</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;iter &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">count1</span><span class="p">)</span><span class="o">+</span> <span class="s1">&#39; = EXIT- Optimal Solution Found.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;iter &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">count1</span><span class="p">)</span><span class="o">+</span> <span class="s1">&#39; = infeasible&#39;</span><span class="p">)</span>
    <span class="n">vap_frac</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">control_volume</span><span class="o">.</span>
                              <span class="n">properties_out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">vapor_frac</span><span class="p">))</span>
    <span class="c1"># recirculation flowrate</span>
    <span class="n">recir_flow</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">flash</span><span class="o">.</span><span class="n">liq_outlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="c1"># recirculation ratio</span>
    <span class="n">recir_ratio</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">flash</span><span class="o">.</span><span class="n">liq_outlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="c1"># feedwater flowrate</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">feedwater_inlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="c1"># slag layer temperature</span>
    <span class="n">slag_temp</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">Waterwalls</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">temp_slag_boundary</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">iter</span> <span class="mi">1</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">2</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">3</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">4</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">5</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">6</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">7</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">8</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">9</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">10</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">11</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">12</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">13</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">14</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">15</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">16</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">17</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">18</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">19</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="nb">iter</span> <span class="mi">20</span> <span class="o">=</span> <span class="n">EXIT</span><span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import plotting libraries</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">flow_it</span><span class="p">:</span>
    <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">flow</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="s1">&#39;feedwater (steam) flowrate&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;heat duty - </span><span class="si">% i</span><span class="s1">ncrement&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Flowrate mol/s&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../../../_images/output_13_0.png" src="../../../../_images/output_13_0.png" />
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">recir_flow</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="s1">&#39;recirculation flowrate&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;heat duty - </span><span class="si">% i</span><span class="s1">ncrement&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Flowrate mol/s&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../../../_images/output_14_01.png" src="../../../../_images/output_14_01.png" />
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">recir_ratio</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="s1">&#39;recirculation ratio&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;heat duty - </span><span class="si">% i</span><span class="s1">ncrement&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;ratio&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../../../_images/output_15_01.png" src="../../../../_images/output_15_01.png" />
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">slag_temp</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="s1">&#39;slag layer temperature&#39;</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;heat duty - </span><span class="si">% i</span><span class="s1">ncrement&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;temp in K&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../../../_images/output_16_01.png" src="../../../../_images/output_16_01.png" />
</section>
<section id="id2">
<h2>3.2. Results<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<p>As can be observed above, the feedwater flowrate and steam flowrate
leaving the drum increase due to the increase of heat duty. The
recirculation flowrate decreases slightly due to the increase of the
friction force inside the waterwall tubes, which is caused by the
increase in vapor fraction. The recirculation ratio, defined as the
ratio of flowrate of water in the circuity to the flowrate of the
feedwater, decreases as heat duty increases. Finally, the slag layer
temperature increases as the heat duty increases. Total heat transfer
resistance includes the contributions from the slag layer, tube metal,
and convection of the fluid with the slag layer as the highest
contributor. Thus, since the slag thickness is fixed, the total heat
transfer resistance does not change much. Therefore, as the heat duty is
increased, the temperature difference between the slag layer and fluid
becomes larger, while the fluid temperature remains almost constant.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright DOE Institute for the Design of Advanced Energy Systems (IDAES), 2018-2020.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<div id="bottombanner">
    The IDAES team:
    <ul>
        <li>National Energy Technology Laboratory (Lead)</li>
        <li>Sandia National Laboratory</li>
        <li>Lawrence Berkeley National Laboratory</li>
        <li>Carnegie-Mellon University (subcontract to LBNL)</li>
        <li>West Virginia University (subcontract to LBNL)</li>
    </ul>
    <div id="contactinfo">
        General, background and overview information<br/> is available at the
        <a href="https://www.idaes.org>">IDAES main website</a>
    </div>
</div>


</body>
</html>