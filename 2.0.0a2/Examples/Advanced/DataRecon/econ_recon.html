<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Reconciliation for a Single Unit - Economizer &mdash; IDAES v2.0.0a2 Examples</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
<!-- Add Google fonts -->
<link href="https://fonts.googleapis.com/css?family=Arimo|Roboto&display=swap"
      rel="stylesheet">

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> IDAES Examples
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Tutorials/index.html">IDAES Tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">IDAES Examples</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Data Reconciliation for a Single Unit - Economizer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/Examples/Advanced/DataRecon/econ_recon.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-reconciliation-for-a-single-unit-economizer">
<h1>Data Reconciliation for a Single Unit - Economizer<a class="headerlink" href="#data-reconciliation-for-a-single-unit-economizer" title="Permalink to this heading">¶</a></h1>
<p>This notebook demonstrates data reconciliation with a single unit model,
an economizer. Data for this example was generated by adding noise to
supercritical power plant simulations.</p>
<section id="why-reconcile-data">
<h2>Why reconcile data?<a class="headerlink" href="#why-reconcile-data" title="Permalink to this heading">¶</a></h2>
<p>Data reconciliation uses mass and energy balances along with redundant
measurements to improve data quality by:</p>
<ol class="arabic simple">
<li><p>reducing measurement error,</p></li>
<li><p>ensuring measurements satisfy mass and energy balances, and</p></li>
<li><p>filling in unmeasured quantities.</p></li>
</ol>
<p>Data reconciliation is used to refine process data before parameter
estimation.</p>
<section id="read-plant-data">
<h3>1. Read Plant Data<a class="headerlink" href="#read-plant-data" title="Permalink to this heading">¶</a></h3>
<p>The first step is to read in process data. In this case, data was
simulated by adding measurement error to supercritical steam cycle
simulation results. IDAES includes functions to read process data,
convert units to match a model, and map data to a model.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># IDAES module with functions to read, analyze and visualize plant data</span>
<span class="kn">import</span> <span class="nn">idaes.core.dmf.model_data</span> <span class="k">as</span> <span class="nn">da</span>
<span class="c1"># Suppress some warnings</span>
<span class="kn">from</span> <span class="nn">idaes.logger</span> <span class="kn">import</span> <span class="n">getLogger</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;idaes.core&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">ERROR</span><span class="p">)</span>
</pre></div>
</div>
<p>Process data is contained in two CSV files, a data file and a metadata
file. The first column in the data file is row indexes and the first row
is process measurement tags. The index column has an entry for each data
row, and is often a time-stamp. The data file format is illustrated by
the table below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 26%" />
<col style="width: 26%" />
<col style="width: 29%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>tag1</p></th>
<th class="head"><p>tag2</p></th>
<th class="head"><p>tag3</p></th>
<th class="head"><p>…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>index1</p></td>
<td><p>data(1,1)</p></td>
<td><p>data(1,2)</p></td>
<td><p>data(1, 3)</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p>index2</p></td>
<td><p>data(2,1)</p></td>
<td><p>data(2,2)</p></td>
<td><p>data(2, 3)</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>The metadata file contains information about the tags including units of
measurement, description, and model mapping information. The meta data
format is show below, any of the columns my be empty.</p>
<div class="line-block">
<div class="line">      | | | | |</div>
</div>
<p>|——-<a href="#id1"><span class="problematic" id="id2">|— —————|</span></a>—————<a href="#id3"><span class="problematic" id="id4">|——————-|</span></a>—————————————————–| | tag1 | model
reference 1 | description 1 | unit of measure 1 | Additional
comments, additional columns are ignored | | tag2 | model reference 2
| description 2 | unit of measure 2 | … | | tag3 | model reference
3 | description 3 | unit of measure 3 | … | | … | … | … | … | …
|</p>
<p>Once the process data is read in, the data is assigned to bins based on
the value in a given column, in this case gross power. Dividing the data
into bins allows rough estimation of measurement uncertainty.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read data and column metadata</span>
<span class="n">df</span><span class="p">,</span> <span class="n">df_meta</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">read_data</span><span class="p">(</span><span class="s2">&quot;plant_data.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;plant_data_meta.csv&quot;</span><span class="p">)</span>

<span class="c1"># Add bin information where the data is sorted into 5 MW bins based on the &quot;GROSS_POWER&quot; column</span>
<span class="c1"># A bin number column is added along with a column for nominal gross power in the bin.</span>
<span class="n">bin_count</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">bin_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bin_by</span><span class="o">=</span><span class="s2">&quot;POWER_GROSS&quot;</span><span class="p">,</span> <span class="n">bin_no</span><span class="o">=</span><span class="s2">&quot;bin_no&quot;</span><span class="p">,</span> <span class="n">bin_nom</span><span class="o">=</span><span class="s2">&quot;bin_power&quot;</span><span class="p">,</span> <span class="n">bin_size</span><span class="o">=</span><span class="mf">5e6</span><span class="p">)</span>

<span class="c1"># Calculate the standard deviation by bin for each column.  The resulting standard devations can be</span>
<span class="c1"># accessed like so: bin_stdev[bin number][column name]</span>
<span class="n">bin_stdev</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">bin_stdev</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bin_no</span><span class="o">=</span><span class="s2">&quot;bin_no&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>It can be useful to visualize the measurement data and estimated
uncertainty. The following creates box and whisker plots for each tag
based on the data bins. A large number of plots may be created, so to
manage them more easily, they are saved as PDFs and merged into a single
multi-page PDF document. The deafault file name for the resulting PDF is
“data_plot_book.pdf.”</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a pdf book of plots that shows box and whisker plots for each column by bin</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="s2">&quot;data_plot_book.pdf&quot;</span><span class="p">):</span>
    <span class="n">da</span><span class="o">.</span><span class="n">data_plot_book</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">bin_nom</span><span class="o">=</span><span class="s2">&quot;bin_power&quot;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;gross power (W)&quot;</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">df_meta</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="s2">&quot;data_plot_book.pdf&quot;</span><span class="p">)</span>
<span class="c1"># There should now be a data_plot_book.pdf file in this directory</span>
</pre></div>
</div>
</section>
<section id="create-unit-model">
<h3>2. Create Unit model<a class="headerlink" href="#create-unit-model" title="Permalink to this heading">¶</a></h3>
<p>Now that we have the plant data, we need to create a unit model that we
can use for data reconciliation. Although we need a model that has just
mass and energy balances and feasibility constraints for the data
reconciliation problem, we start with the full economizer model here.
Using the same model for data reconciliation, parameter estimation,
validation, and simulation reduces the work required to move between
steps in the workflow.</p>
<p>Once the full model is created, constraints that are not needed for data
reconciliation can be deactivated.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import models</span>
<span class="kn">from</span> <span class="nn">idaes.core</span> <span class="kn">import</span> <span class="n">FlowsheetBlock</span>
<span class="kn">from</span> <span class="nn">idaes.power_generation.properties.flue_gas_ideal</span> <span class="kn">import</span> <span class="n">FlueGasParameterBlock</span>
<span class="kn">from</span> <span class="nn">idaes.generic_models.properties</span> <span class="kn">import</span> <span class="n">iapws95</span>
<span class="kn">from</span> <span class="nn">idaes.power_generation.unit_models.boiler_heat_exchanger</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">BoilerHeatExchanger</span><span class="p">,</span>
    <span class="n">TubeArrangement</span><span class="p">,</span>
    <span class="n">DeltaTMethod</span>
<span class="p">)</span>
<span class="kn">import</span> <span class="nn">pyomo.environ</span> <span class="k">as</span> <span class="nn">pyo</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span> <span class="n">DEPRECATED</span><span class="p">:</span> <span class="n">The</span> <span class="n">properties</span> <span class="n">package</span> <span class="n">has</span> <span class="n">been</span> <span class="n">moved</span> <span class="n">to</span>
    <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">properties</span>  <span class="p">(</span><span class="n">deprecated</span> <span class="ow">in</span>
    <span class="mf">2.0.0</span><span class="o">.</span><span class="n">alpha0</span><span class="p">)</span> <span class="p">(</span><span class="n">called</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="n">frozen</span> <span class="n">importlib</span><span class="o">.</span><span class="n">_bootstrap</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">219</span><span class="p">)</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">DEPRECATED</span><span class="p">:</span> <span class="n">The</span> <span class="n">flue_gas_ideal</span> <span class="n">module</span> <span class="n">has</span> <span class="n">been</span> <span class="n">moved</span> <span class="n">to</span>
    <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">flue_gas_ideal</span> <span class="p">(</span><span class="n">deprecated</span>
    <span class="ow">in</span> <span class="mf">2.0.0</span><span class="o">.</span><span class="n">alpha0</span><span class="p">)</span> <span class="p">(</span><span class="n">called</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="n">frozen</span> <span class="n">importlib</span><span class="o">.</span><span class="n">_bootstrap</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">219</span><span class="p">)</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">DEPRECATED</span><span class="p">:</span> <span class="n">The</span> <span class="n">generic_models</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">iapws95</span> <span class="n">has</span> <span class="n">been</span> <span class="n">moved</span> <span class="n">to</span>
    <span class="n">idaes</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">iapws95</span>  <span class="p">(</span><span class="n">deprecated</span> <span class="ow">in</span> <span class="mf">2.0.0</span><span class="o">.</span><span class="n">alpha0</span><span class="p">)</span> <span class="p">(</span><span class="n">called</span> <span class="kn">from</span>
    <span class="o">&lt;</span><span class="n">frozen</span> <span class="n">importlib</span><span class="o">.</span><span class="n">_bootstrap</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">219</span><span class="p">)</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">DEPRECATED</span><span class="p">:</span> <span class="n">The</span> <span class="n">power_generation</span><span class="o">.</span><span class="n">unit_models</span> <span class="n">package</span> <span class="n">has</span> <span class="n">been</span> <span class="n">moved</span>
    <span class="n">to</span> <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">unit_models</span>  <span class="p">(</span><span class="n">deprecated</span> <span class="ow">in</span>
    <span class="mf">2.0.0</span><span class="o">.</span><span class="n">alpha0</span><span class="p">)</span> <span class="p">(</span><span class="n">called</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="n">frozen</span> <span class="n">importlib</span><span class="o">.</span><span class="n">_bootstrap</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">219</span><span class="p">)</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">DEPRECATED</span><span class="p">:</span> <span class="n">The</span> <span class="n">boiler_heat_exchanger</span> <span class="n">module</span> <span class="n">has</span> <span class="n">been</span> <span class="n">moved</span> <span class="n">to</span>
    <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">unit_models</span><span class="o">.</span><span class="n">boiler_heat_exchanger</span>
    <span class="p">(</span><span class="n">deprecated</span> <span class="ow">in</span> <span class="mf">2.0.0</span><span class="o">.</span><span class="n">alpha0</span><span class="p">)</span> <span class="p">(</span><span class="n">called</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="n">frozen</span>
    <span class="n">importlib</span><span class="o">.</span><span class="n">_bootstrap</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">219</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create flowsheet with economizer</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">ConcreteModel</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span> <span class="o">=</span> <span class="n">FlowsheetBlock</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;dynamic&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">prop_water</span> <span class="o">=</span> <span class="n">iapws95</span><span class="o">.</span><span class="n">Iapws95ParameterBlock</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">prop_fluegas</span> <span class="o">=</span> <span class="n">FlueGasParameterBlock</span><span class="p">()</span>

<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span> <span class="o">=</span> <span class="n">BoilerHeatExchanger</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;side_1_property_package&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">prop_water</span><span class="p">,</span>
        <span class="s2">&quot;side_2_property_package&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">prop_fluegas</span><span class="p">,</span>
        <span class="s2">&quot;has_pressure_change&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;has_holdup&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s2">&quot;delta_T_method&quot;</span><span class="p">:</span> <span class="n">DeltaTMethod</span><span class="o">.</span><span class="n">counterCurrent</span><span class="p">,</span>
        <span class="s2">&quot;tube_arrangement&quot;</span><span class="p">:</span> <span class="n">TubeArrangement</span><span class="o">.</span><span class="n">inLine</span><span class="p">,</span>
        <span class="s2">&quot;side_1_water_phase&quot;</span><span class="p">:</span> <span class="s2">&quot;Liq&quot;</span><span class="p">,</span>
        <span class="s2">&quot;has_radiation&quot;</span><span class="p">:</span> <span class="kc">False</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">WARNING</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">unit_models</span><span class="o">.</span><span class="n">boiler_heat_exchanger</span><span class="p">:</span> <span class="s1">&#39;DeltaTMethod&#39;</span> <span class="ow">is</span> <span class="n">deprecated</span> <span class="n">use</span> <span class="s1">&#39;HeatExchangerFlowPattern&#39;</span> <span class="n">This</span> <span class="n">will</span> <span class="n">be</span> <span class="n">removed</span> <span class="ow">in</span> <span class="n">IDAES</span> <span class="mf">3.0</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">WARNING</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">unit_models</span><span class="o">.</span><span class="n">boiler_heat_exchanger</span><span class="p">:</span> <span class="n">Config</span> <span class="n">item</span> <span class="n">delta_T_method</span> <span class="ow">is</span> <span class="n">deprecated</span> <span class="n">use</span> <span class="n">flow_pattern</span><span class="o">.</span> <span class="n">Will</span> <span class="n">be</span> <span class="n">removed</span> <span class="ow">in</span> <span class="n">IDAES</span> <span class="mf">3.0</span><span class="o">.</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">WARNING</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">unit_models</span><span class="o">.</span><span class="n">boiler_heat_exchanger</span><span class="p">:</span> <span class="s1">&#39;DeltaTMethod&#39;</span> <span class="ow">is</span> <span class="n">deprecated</span> <span class="n">use</span> <span class="s1">&#39;HeatExchangerFlowPattern&#39;</span> <span class="n">This</span> <span class="n">will</span> <span class="n">be</span> <span class="n">removed</span> <span class="ow">in</span> <span class="n">IDAES</span> <span class="mf">3.0</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">WARNING</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">unit_models</span><span class="o">.</span><span class="n">boiler_heat_exchanger</span><span class="p">:</span> <span class="n">Config</span> <span class="n">item</span> <span class="n">side_1_property_package</span> <span class="ow">is</span> <span class="n">deprecated</span><span class="o">.</span> <span class="n">Will</span> <span class="n">be</span> <span class="n">removed</span> <span class="ow">in</span> <span class="n">IDAES</span> <span class="mf">3.0</span><span class="o">.</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">WARNING</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">models_extra</span><span class="o">.</span><span class="n">power_generation</span><span class="o">.</span><span class="n">unit_models</span><span class="o">.</span><span class="n">boiler_heat_exchanger</span><span class="p">:</span> <span class="n">Config</span> <span class="n">item</span> <span class="n">side_2_property_package</span> <span class="ow">is</span> <span class="n">deprecated</span><span class="o">.</span> <span class="n">Will</span> <span class="n">be</span> <span class="n">removed</span> <span class="ow">in</span> <span class="n">IDAES</span> <span class="mf">3.0</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up and initialize the model</span>

<span class="c1"># The steam properties use enthalpy as a state variable, so use the known</span>
<span class="c1"># temperature and pressure to calculate the feedwater inlet enthalpy</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">iapws95</span><span class="o">.</span><span class="n">htpx</span><span class="p">(</span><span class="mf">563.706</span><span class="o">*</span><span class="n">pyo</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">K</span><span class="p">,</span> <span class="mf">2.5449e7</span><span class="o">*</span><span class="n">pyo</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">Pa</span><span class="p">))</span>

<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_inlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">24678.26</span><span class="p">)</span> <span class="c1"># mol/s</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_inlet</span><span class="o">.</span><span class="n">enth_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">h</span><span class="p">)</span> <span class="c1">#J/mol</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_inlet</span><span class="o">.</span><span class="n">pressure</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">2.5449e7</span><span class="p">)</span> <span class="c1"># Pa</span>

<span class="c1"># Set the flue gas flow and composition</span>
<span class="n">fg_rate</span> <span class="o">=</span> <span class="mf">28.3876e3</span>  <span class="c1"># mol/s equivalent of ~1930.08 klb/hr</span>
<span class="n">fg_comp</span> <span class="o">=</span> <span class="p">{</span> <span class="c1"># mol fraction of flue gas components</span>
    <span class="s2">&quot;H2O&quot;</span><span class="p">:</span><span class="mf">8.69</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span>
    <span class="s2">&quot;CO2&quot;</span><span class="p">:</span><span class="mf">14.49</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span>
    <span class="s2">&quot;O2&quot;</span><span class="p">:</span><span class="mf">2.47</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span>
    <span class="s2">&quot;NO&quot;</span><span class="p">:</span><span class="mf">0.0006</span><span class="p">,</span>
    <span class="s2">&quot;SO2&quot;</span><span class="p">:</span><span class="mf">0.002</span><span class="p">,</span>
<span class="p">}</span>
<span class="c1"># The rest is N2</span>
<span class="n">fg_comp</span><span class="p">[</span><span class="s2">&quot;N2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="nb">sum</span><span class="p">(</span><span class="n">fg_comp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">fg_comp</span><span class="p">)</span>

<span class="c1"># Set economizer inlets</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">fg_comp</span><span class="p">:</span>
    <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2</span><span class="o">.</span><span class="n">properties_in</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">flow_mol_comp</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="n">fg_rate</span><span class="o">*</span><span class="n">fg_comp</span><span class="p">[</span><span class="n">c</span><span class="p">])</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">temperature</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">682.335</span><span class="p">)</span>  <span class="c1"># K</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">pressure</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mi">100145</span><span class="p">)</span>  <span class="c1"># Pa</span>

<span class="c1"># Set economizer design variables and parameters</span>
<span class="n">ITM</span> <span class="o">=</span> <span class="mf">0.0254</span>  <span class="c1"># inch to meter conversion</span>
<span class="c1"># Based on NETL Baseline Report Rev4</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">tube_thickness</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">0.188</span><span class="o">*</span><span class="n">ITM</span><span class="p">)</span>  <span class="c1"># tube thickness</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">tube_di</span><span class="o">.</span><span class="n">fix</span><span class="p">((</span><span class="mf">2.0</span> <span class="o">-</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="mf">0.188</span><span class="p">)</span><span class="o">*</span><span class="n">ITM</span><span class="p">)</span> <span class="c1"># calc inner diameter</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">pitch_x</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">3.5</span><span class="o">*</span><span class="n">ITM</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">pitch_y</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">5.03</span><span class="o">*</span><span class="n">ITM</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">tube_length</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">53.41</span><span class="o">*</span><span class="mi">12</span><span class="o">*</span><span class="n">ITM</span><span class="p">)</span>  <span class="c1"># use tube length (53.41 ft)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">tube_nrow</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mi">36</span><span class="o">*</span><span class="mf">2.5</span><span class="p">)</span> <span class="c1"># use to match baseline performance</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">tube_ncol</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mi">130</span><span class="p">)</span> <span class="c1"># 130 from thermoflow</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">nrow_inlet</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">delta_elevation</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">tube_r_fouling</span> <span class="o">=</span> <span class="mf">0.000176</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">shell_r_fouling</span> <span class="o">=</span> <span class="mf">0.00088</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">fcorrection_htc</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">fcorrection_dp_tube</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">fcorrection_dp_shell</span><span class="o">.</span><span class="n">fix</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize economizer</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span>
    <span class="n">state_args_1</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;flow_mol&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_inlet</span><span class="o">.</span><span class="n">flow_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="s2">&quot;pressure&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_inlet</span><span class="o">.</span><span class="n">pressure</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="s2">&quot;enth_mol&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_inlet</span><span class="o">.</span><span class="n">enth_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">state_args_2</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;flow_component&quot;</span><span class="p">:{</span>
            <span class="s2">&quot;H2O&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">flow_mol_comp</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;H2O&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;CO2&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">flow_mol_comp</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;CO2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;N2&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">flow_mol_comp</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;N2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;O2&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">flow_mol_comp</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;O2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;NO&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">flow_mol_comp</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;NO&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;SO2&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">flow_mol_comp</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;SO2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;temperature&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">temperature</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="s2">&quot;pressure&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">pressure</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">tube</span><span class="p">:</span> <span class="n">Initialization</span> <span class="n">Complete</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">properties_in</span><span class="p">:</span> <span class="n">Initialisation</span> <span class="n">Complete</span><span class="p">,</span> <span class="n">optimal</span> <span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">properties_out</span><span class="p">:</span> <span class="n">Initialisation</span> <span class="n">Complete</span><span class="p">,</span> <span class="n">optimal</span> <span class="o">-</span> <span class="n">Optimal</span> <span class="n">Solution</span> <span class="n">Found</span><span class="o">.</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">properties_out</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">properties_out</span> <span class="n">State</span> <span class="n">Released</span><span class="o">.</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">shell</span><span class="p">:</span> <span class="n">Initialization</span> <span class="n">Complete</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">23</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">econ</span> <span class="n">Initialisation</span> <span class="n">Step</span> <span class="mi">1</span> <span class="n">Complete</span><span class="o">.</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">24</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">properties_in</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">shell</span><span class="o">.</span><span class="n">properties_in</span> <span class="n">State</span> <span class="n">Released</span><span class="o">.</span>
<span class="mi">2022</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">09</span> <span class="mi">18</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">24</span> <span class="p">[</span><span class="n">INFO</span><span class="p">]</span> <span class="n">idaes</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="p">:</span> <span class="n">fs</span><span class="o">.</span><span class="n">econ</span> <span class="n">Initialisation</span> <span class="n">Complete</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="simplify-to-mass-and-energy-balances">
<h3>3. Simplify to Mass and Energy Balances<a class="headerlink" href="#simplify-to-mass-and-energy-balances" title="Permalink to this heading">¶</a></h3>
<p>For data reconciliation, the model should be reduced to mass and energy
balances and potentially limited performance constraints to keep the
results feasible.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Deactivate constraints for heat transfer</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">overall_heat_transfer_coefficient_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">rcond_wall_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">hconv_shell_total_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">hconv_shell_conv_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">N_Nu_shell_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">N_Pr_shell_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">deltaP_shell_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">friction_factor_shell_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">N_Re_shell_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">v_shell_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">hconv_tube_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">N_Nu_tube_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">N_Pr_tube_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">deltaP_tube_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">deltaP_tube_uturn_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">deltaP_tube_friction_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">friction_factor_tube_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">N_Re_tube_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">v_tube_eqn</span><span class="o">.</span><span class="n">deactivate</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="map-data-to-the-model">
<h3>4. Map Data to the Model<a class="headerlink" href="#map-data-to-the-model" title="Permalink to this heading">¶</a></h3>
<p>Although the model mapping can be included in the tag metadata file,
here we just add the mapping information to the tag metadata after
reading the data. Sometime a data set may be used with more than one
model or you may want to examine data before creating a model, in which
case it is convenient to defer mapping the data to the model as we have
done here.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;ECON_OUT_F&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_1.properties_out[:].flow_mol&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;ECON_OUT_T&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_1.properties_out[:].temperature&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;ECON_OUT_P&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_1.properties_out[:].pressure&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;BFW_F&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_1.properties_in[:].flow_mol&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;BFW_T&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_1.properties_in[:].temperature&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;BFW_P&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_1.properties_in[:].pressure&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;FG_2_ECON_Fm&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_2.properties_in[:].flow_mass&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;FG_2_ECON_T&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_2.properties_in[:].temperature&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;FG_2_ECON_P&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_2.properties_in[:].pressure&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;FG_2_AIRPH_Fm&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_2.properties_out[:].flow_mass&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;FG_2_AIRPH_T&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_2.properties_out[:].temperature&quot;</span>
<span class="n">df_meta</span><span class="p">[</span><span class="s2">&quot;FG_2_AIRPH_P&quot;</span><span class="p">][</span><span class="s2">&quot;reference_string&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;m.fs.econ.side_2.properties_out[:].pressure&quot;</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add the model references to the tag metadata based on the strings above.</span>
<span class="n">da</span><span class="o">.</span><span class="n">upadate_metadata_model_references</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">df_meta</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a dictionary of data tags that we want to use for the data reconciliation problem.</span>
<span class="c1"># The key is the tag and the value is a reference to a quantity in the model.</span>
<span class="n">data_tags</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span><span class="p">[</span><span class="s2">&quot;reference&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">df_meta</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span><span class="p">[</span><span class="s2">&quot;reference&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Now for result output, the data reconciliation usually can give full stream information for a flowsheet</span>
<span class="c1"># including quantities that are unmeasured.  To more easily use the results, it is good practice to map most of</span>
<span class="c1"># the data reconciliation results to flowsheet stream names.</span>
<span class="kn">import</span> <span class="nn">idaes.core.util.tables</span> <span class="k">as</span> <span class="nn">ta</span>

<span class="c1"># This function creates a dictionary of streams based of streams based on model arcs.  The function</span>
<span class="c1"># also takes an addtional set of stream-like objects for add to the stream dictionary.  In this case,</span>
<span class="c1"># this is a single unit and the flowsheet doesn&#39;t contain any arcs, so we add the economized inlet and</span>
<span class="c1"># outlet ports to the stream dictionary.</span>
<span class="n">stream_dict</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">arcs_to_stream_dict</span><span class="p">(</span>
    <span class="n">m</span><span class="p">,</span>
    <span class="n">additional</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;BFW&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_inlet</span><span class="p">,</span>
        <span class="s2">&quot;ECON_OUT&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_outlet</span><span class="p">,</span>
        <span class="s2">&quot;FG_2_ECON&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="p">,</span>
        <span class="s2">&quot;FG_2_AIRPH&quot;</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_outlet</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># The next function converts the stream dictionary into a dictionary of state block representing the</span>
<span class="c1"># streams at a given time point.  In this case, we have a steady state model, so we only have one</span>
<span class="c1"># time point (0).</span>
<span class="n">state_dict</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">stream_states_dict</span><span class="p">(</span><span class="n">stream_dict</span><span class="p">,</span> <span class="n">time_point</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># The &#39;tag_state_quantities()&#39; function below iterates through the state block dictionary and</span>
<span class="c1"># creates tags for the listed attributes by combining the state block label with the attribute label</span>
<span class="c1"># in the labels argument.  For example, pressure in the S001 state block would get the tag &#39;S001_P&#39;.</span>
<span class="n">recon_tags</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">tag_state_quantities</span><span class="p">(</span>
    <span class="n">blocks</span><span class="o">=</span><span class="n">state_dict</span><span class="p">,</span>
    <span class="n">attributes</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;flow_mass&quot;</span><span class="p">,</span>
        <span class="s2">&quot;flow_mol&quot;</span><span class="p">,</span>
        <span class="s2">&quot;enth_mol&quot;</span><span class="p">,</span>
        <span class="s2">&quot;temperature&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pressure&quot;</span><span class="p">,</span>
        <span class="p">(</span><span class="s2">&quot;flow_mol_comp&quot;</span><span class="p">,</span> <span class="s2">&quot;O2&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;flow_mol_comp&quot;</span><span class="p">,</span> <span class="s2">&quot;NO&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;flow_mol_comp&quot;</span><span class="p">,</span> <span class="s2">&quot;N2&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;flow_mol_comp&quot;</span><span class="p">,</span> <span class="s2">&quot;SO2&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;flow_mol_comp&quot;</span><span class="p">,</span> <span class="s2">&quot;CO2&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="s2">&quot;flow_mol_comp&quot;</span><span class="p">,</span> <span class="s2">&quot;H2O&quot;</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;_Fm&quot;</span><span class="p">,</span> <span class="s2">&quot;_F&quot;</span><span class="p">,</span> <span class="s2">&quot;_h&quot;</span><span class="p">,</span> <span class="s2">&quot;_T&quot;</span><span class="p">,</span> <span class="s2">&quot;_P&quot;</span><span class="p">,</span> <span class="s2">&quot;_F[O2]&quot;</span><span class="p">,</span> <span class="s2">&quot;_F[NO]&quot;</span><span class="p">,</span> <span class="s2">&quot;_F[N2]&quot;</span><span class="p">,</span> <span class="s2">&quot;_F[SO2]&quot;</span><span class="p">,</span> <span class="s2">&quot;_F[CO2]&quot;</span><span class="p">,</span> <span class="s2">&quot;_F[H2O]&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="c1"># Any addtional tags can be added.  This is required for tags that cannot be systematically generated</span>
<span class="c1"># from the model streams.</span>
<span class="n">recon_tags</span><span class="p">[</span><span class="s2">&quot;ECON_Q&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">heat_duty</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="view-model-flowsheet">
<h3>5. View model flowsheet<a class="headerlink" href="#view-model-flowsheet" title="Permalink to this heading">¶</a></h3>
<p>Model results or other quantities can be added to a process flow
diagram. The PFD was drawn beforehand and the model results are added to
tagged locations on the PFD.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">idaes.core.util.misc</span> <span class="kn">import</span> <span class="n">svg_tag</span>  <span class="c1"># utility to place numbers/text in an SVG</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;econ.svg&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">svg_tag</span><span class="p">(</span><span class="n">svg</span><span class="o">=</span><span class="n">f</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;subtitle&quot;</span><span class="p">:</span><span class="s2">&quot;Initialized Model&quot;</span><span class="p">})</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">svg_tag</span><span class="p">(</span><span class="n">svg</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="n">recon_tags</span><span class="p">,</span> <span class="n">outfile</span><span class="o">=</span><span class="s2">&quot;econ_init.svg&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WARNING</span><span class="p">:</span> <span class="n">DEPRECATED</span><span class="p">:</span> <span class="n">idaes</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">svg_tag</span> <span class="n">has</span> <span class="n">moved</span> <span class="n">to</span>
    <span class="n">idaes</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">svg_tag</span>  <span class="p">(</span><span class="n">deprecated</span> <span class="ow">in</span> <span class="mf">1.12</span><span class="p">)</span> <span class="p">(</span><span class="n">called</span> <span class="kn">from</span>
    <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/.</span><span class="n">conda</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">idaes</span><span class="o">-</span><span class="n">env</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span>
    <span class="n">packages</span><span class="o">/</span><span class="n">IPython</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">interactiveshell</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">3553</span><span class="p">)</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">DEPRECATED</span><span class="p">:</span> <span class="n">svg_tag</span><span class="p">,</span> <span class="n">the</span> <span class="n">tags</span><span class="p">,</span> <span class="n">tag_format</span> <span class="ow">and</span> <span class="n">tag_format_default</span>
    <span class="n">arguments</span> <span class="n">are</span> <span class="n">deprecated</span> <span class="n">use</span> <span class="n">tag_group</span> <span class="n">instead</span><span class="o">.</span>  <span class="p">(</span><span class="n">deprecated</span> <span class="ow">in</span> <span class="mf">1.12</span><span class="p">)</span>
    <span class="p">(</span><span class="n">called</span> <span class="kn">from</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/.</span><span class="n">conda</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">idaes</span><span class="o">-</span><span class="n">env</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span>
    <span class="n">packages</span><span class="o">/</span><span class="n">idaes</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">util</span><span class="o">/</span><span class="n">misc</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">132</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">SVG</span><span class="p">,</span> <span class="n">display</span>

<span class="n">display</span><span class="p">(</span><span class="n">SVG</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<img alt="../../../_images/output_21_0.svg" src="../../../_images/output_21_0.svg" /></section>
<section id="write-objective">
<h3>6. Write Objective<a class="headerlink" href="#write-objective" title="Permalink to this heading">¶</a></h3>
<p>Next we write the objective function and additional constraints for the
data reconciliation problem. The objective is</p>
<div class="math notranslate nohighlight">
\[\min \sum_i \left(\frac{x_{\text{data}, i} - x_{\text{model}, i}}{\sigma_i} \right)^2\]</div>
<p>Where <span class="math notranslate nohighlight">\(i \in \{\text{Measured Quantities}\}\)</span> and <span class="math notranslate nohighlight">\(\sigma_i\)</span>
is the standard deviation of measurement i. In this case, for lack of
better information, the standard deviation was estimated by binning the
data and calculating the standard deviation of each measured variable in
each bin.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add model parameters to contain measured data.  These are mutable so we can set a specific data point later.</span>
<span class="n">m</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">data_tags</span><span class="p">,</span> <span class="n">mutable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Process data for a specific point in time.&quot;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">data_stdev</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Param</span><span class="p">(</span><span class="n">data_tags</span><span class="p">,</span> <span class="n">mutable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s2">&quot;Process data standard deviation.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The &#39;set_data&#39; function below takes data from the process data DataFrame and updates the</span>
<span class="c1"># data parameters in the model.</span>
<span class="k">def</span> <span class="nf">set_data</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">data_tags</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">indexindex</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">indexindex</span><span class="p">]</span>
    <span class="n">m</span><span class="o">.</span><span class="n">bin_no</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;bin_no&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">data_tags</span><span class="p">:</span>
        <span class="n">m</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="n">t</span><span class="p">]</span>
        <span class="n">m</span><span class="o">.</span><span class="n">data_stdev</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">bin_stdev</span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">bin_no</span><span class="p">][</span><span class="n">t</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># So we have something reasonable to start, set the data attached to the model to the first</span>
<span class="c1"># data point.</span>
<span class="n">set_data</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">data_tags</span><span class="p">,</span> <span class="n">indexindex</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Add an expression for error divided by the standard deviation, and use
it to write the data reconciliation objective function.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nd">@m</span><span class="o">.</span><span class="n">Expression</span><span class="p">(</span><span class="n">data_tags</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">err</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">data_tags</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="n">m</span><span class="o">.</span><span class="n">data_stdev</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="n">m</span><span class="o">.</span><span class="n">objective</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">err</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">m</span><span class="o">.</span><span class="n">err</span><span class="p">))</span>
</pre></div>
</div>
<p>Add constraints that ensure reasonable temperature and keep the flue gas
composition correct.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Limit temperature approach</span>
<span class="n">m</span><span class="o">.</span><span class="n">c1</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">deltaT_1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">c2</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">deltaT_2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="p">)</span>

<span class="c1"># Constrain flue gas composition</span>
<span class="n">m</span><span class="o">.</span><span class="n">flow_fg</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">Var</span><span class="p">(</span><span class="n">initialize</span><span class="o">=</span><span class="n">fg_rate</span><span class="p">)</span>
<span class="nd">@m</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">fg_comp</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">eq_fg_comp</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2</span><span class="o">.</span><span class="n">properties_in</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">flow_mol_comp</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">==</span> <span class="n">fg_comp</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">*</span><span class="n">m</span><span class="o">.</span><span class="n">flow_fg</span>
</pre></div>
</div>
</section>
<section id="solve-optimization">
<h3>7. Solve Optimization<a class="headerlink" href="#solve-optimization" title="Permalink to this heading">¶</a></h3>
<p>Now we need to solve the data reconciliation problem for every data
point. The important results are stored in two DataFrames <code class="docutils literal notranslate"><span class="pre">df_result</span></code>,
which contains results tagged based on model stream names to be used in
the parameter estimation step and <code class="docutils literal notranslate"><span class="pre">df_result_cmp</span></code> which contains
reconciled data based on the original measurement tags and can be used
to compare the original measurements to the reconciled results.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make sure the inlet and outlet ports are unfixed.  We want to leave these free</span>
<span class="c1"># to best match the data.</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_inlet</span><span class="o">.</span><span class="n">unfix</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_inlet</span><span class="o">.</span><span class="n">unfix</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_1_outlet</span><span class="o">.</span><span class="n">unfix</span><span class="p">()</span>
<span class="n">m</span><span class="o">.</span><span class="n">fs</span><span class="o">.</span><span class="n">econ</span><span class="o">.</span><span class="n">side_2_outlet</span><span class="o">.</span><span class="n">unfix</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a Pyomo solver object</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">SolverFactory</span><span class="p">(</span><span class="s1">&#39;ipopt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="c1"># Add bin information to reconciliation results so it can be used in parameter estimation</span>
<span class="n">df_result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">recon_tags</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">+</span><span class="p">[</span><span class="s2">&quot;termination&quot;</span><span class="p">,</span> <span class="s2">&quot;bin_no&quot;</span><span class="p">,</span> <span class="s2">&quot;bin_power&quot;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">df_result_cmp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">data_tags</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="o">+</span><span class="p">[</span><span class="s2">&quot;termination&quot;</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="c1"># Loop through each data point and solve the data reconciliation problem.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="n">set_data</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">data_tags</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
    <span class="n">tc</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">solver</span><span class="o">.</span><span class="n">termination_condition</span><span class="p">)</span>
    <span class="n">df_result</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;termination&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tc</span>
    <span class="n">df_result</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;bin_no&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;bin_no&quot;</span><span class="p">]</span>
    <span class="n">df_result</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;bin_power&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;bin_power&quot;</span><span class="p">]</span>
    <span class="n">df_result_cmp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;termination&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tc</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">recon_tags</span><span class="p">:</span>
        <span class="n">df_result</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">recon_tags</span><span class="p">[</span><span class="n">t</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">data_tags</span><span class="p">:</span>
        <span class="n">df_result_cmp</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">data_tags</span><span class="p">[</span><span class="n">t</span><span class="p">])</span>
    <span class="c1"># Show something so you can tell progress is happening</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> -- </span><span class="si">{</span><span class="n">tc</span><span class="si">}</span><span class="s2">, objective: </span><span class="si">{</span><span class="n">pyo</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">objective</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.162222726747857</span>
<span class="mi">1</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.819788154080471</span>
<span class="mi">2</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.4704961756858985</span>
<span class="mi">3</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.1898683973940773</span>
<span class="mi">4</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">6.2668757277680225</span>
<span class="mi">5</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.353825037717308</span>
<span class="mi">6</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.5232293871180634</span>
<span class="mi">7</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.0234536307430038</span>
<span class="mi">8</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.6923868337123509</span>
<span class="mi">9</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.200179122889539</span>
<span class="mi">10</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.0256916107502416</span>
<span class="mi">11</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.375510820858621</span>
<span class="mi">12</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.8040192166109246</span>
<span class="mi">13</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.0820617353511788</span>
<span class="mi">14</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.8725608654847687</span>
<span class="mi">15</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.6793955509492084</span>
<span class="mi">16</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.5285609881578512</span>
<span class="mi">17</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.4190895194025908</span>
<span class="mi">18</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.6733418552016509</span>
<span class="mi">19</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.319136160157616</span>
<span class="mi">20</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.591094538468402</span>
<span class="mi">21</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.728491791618803</span>
<span class="mi">22</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.096119847074708</span>
<span class="mi">23</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">8.0469106121577</span>
<span class="mi">24</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">9.434467872324591</span>
<span class="mi">25</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.9086993281997</span>
<span class="mi">26</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.764857210566878</span>
<span class="mi">27</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.5869915338535985</span>
<span class="mi">28</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.984980863559903</span>
<span class="mi">29</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.42071558243433</span>
<span class="mi">30</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.15987321041189623</span>
<span class="mi">31</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.9662708564309976</span>
<span class="mi">32</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.631964135793727</span>
<span class="mi">33</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.7898364826193097</span>
<span class="mi">34</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.935317631382528</span>
<span class="mi">35</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.7822547215128783</span>
<span class="mi">36</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.793558504591978</span>
<span class="mi">37</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">7.3997278094156655</span>
<span class="mi">38</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.8234865166601346</span>
<span class="mi">39</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">8.12322419917884</span>
<span class="mi">40</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.4669745912045267</span>
<span class="mi">41</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.059014746274361</span>
<span class="mi">42</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.824860326020389</span>
<span class="mi">43</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.9053571960692115</span>
<span class="mi">44</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.2573333384735597</span>
<span class="mi">45</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.76265486871691</span>
<span class="mi">46</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.910562187450692</span>
<span class="mi">47</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.3638511438809599</span>
<span class="mi">48</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">6.4820707513142235</span>
<span class="mi">49</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.8862863572807849</span>
<span class="mi">50</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.3533327138630484</span>
<span class="mi">51</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.6741788395562354</span>
<span class="mi">52</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.4465659660224106</span>
<span class="mi">53</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.3657124776784495</span>
<span class="mi">54</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.4293043476044254</span>
<span class="mi">55</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">11.608878616087667</span>
<span class="mi">56</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.5845585218155596</span>
<span class="mi">57</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.2280385889684022</span>
<span class="mi">58</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.495375700856524</span>
<span class="mi">59</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.6473059536498282</span>
<span class="mi">60</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">8.02478299905107</span>
<span class="mi">61</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.943571679649489</span>
<span class="mi">62</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.3358029808075944</span>
<span class="mi">63</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.385136256674171</span>
<span class="mi">64</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.5607930691618985</span>
<span class="mi">65</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.1768732856567543</span>
<span class="mi">66</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.8233151497317657</span>
<span class="mi">67</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.396913088762334</span>
<span class="mi">68</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.391832817508623</span>
<span class="mi">69</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.6148676050766855</span>
<span class="mi">70</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.37082903904095604</span>
<span class="mi">71</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.8762486395430988</span>
<span class="mi">72</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.008624266411625</span>
<span class="mi">73</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">6.178298889668569</span>
<span class="mi">74</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.4515810478692375</span>
<span class="mi">75</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">8.974784736396618</span>
<span class="mi">76</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.7706895755220886</span>
<span class="mi">77</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.1265400749414534</span>
<span class="mi">78</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.203571840723363</span>
<span class="mi">79</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.769621582501752</span>
<span class="mi">80</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.816642172570763</span>
<span class="mi">81</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.653274109417403</span>
<span class="mi">82</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.4965287219119383</span>
<span class="mi">83</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.8032383968120529</span>
<span class="mi">84</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.3628374751580308</span>
<span class="mi">85</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.5238425496864703</span>
<span class="mi">86</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.8657617083925198</span>
<span class="mi">87</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.7222675119803348</span>
<span class="mi">88</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.953872372963468</span>
<span class="mi">89</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.6523626343497055</span>
<span class="mi">90</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.351100064860247</span>
<span class="mi">91</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.2094028270637172</span>
<span class="mi">92</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.5787041255816394</span>
<span class="mi">93</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.4104171739554894</span>
<span class="mi">94</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.2638821516692405</span>
<span class="mi">95</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.2950211901073096</span>
<span class="mi">96</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.5307192842206838</span>
<span class="mi">97</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.0576184713663728</span>
<span class="mi">98</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.7332046587098315</span>
<span class="mi">99</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.588279410366772</span>
<span class="mi">100</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.9293015277967164</span>
<span class="mi">101</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.1035467025832082</span>
<span class="mi">102</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.005403092725190883</span>
<span class="mi">103</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.030370198029125</span>
<span class="mi">104</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.5977866074242097</span>
<span class="mi">105</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.718637539092343</span>
<span class="mi">106</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.2200082219901387</span>
<span class="mi">107</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.736160641358012</span>
<span class="mi">108</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.7827907915253678</span>
<span class="mi">109</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.8012179144634726</span>
<span class="mi">110</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.489082201358194</span>
<span class="mi">111</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.625444642903956</span>
<span class="mi">112</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.073061803308481</span>
<span class="mi">113</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.984149658953183</span>
<span class="mi">114</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.5009037658422235</span>
<span class="mi">115</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.8012381845209188</span>
<span class="mi">116</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.6875543787763965</span>
<span class="mi">117</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">6.86492083808729</span>
<span class="mi">118</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.037552232189651</span>
<span class="mi">119</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.494098009707335</span>
<span class="mi">120</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.4608320182937169</span>
<span class="mi">121</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.044472252223645696</span>
<span class="mi">122</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.9092110321562337</span>
<span class="mi">123</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.153938460441787</span>
<span class="mi">124</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.635804261323873</span>
<span class="mi">125</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.7223994896017585</span>
<span class="mi">126</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.837813299841434</span>
<span class="mi">127</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.8953995802785215</span>
<span class="mi">128</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.17007289875027495</span>
<span class="mi">129</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.9837915670309215</span>
<span class="mi">130</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">8.052254099295803</span>
<span class="mi">131</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">6.260316294305055</span>
<span class="mi">132</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.5725983302689075</span>
<span class="mi">133</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.7332013380680378</span>
<span class="mi">134</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.3400624609820704</span>
<span class="mi">135</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.6033161609589337</span>
<span class="mi">136</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.5015730968089565</span>
<span class="mi">137</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.3964042402966444</span>
<span class="mi">138</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.14140350922429978</span>
<span class="mi">139</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">8.317311777960532</span>
<span class="mi">140</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.424431267918879</span>
<span class="mi">141</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.8357421686723203</span>
<span class="mi">142</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.5376013961507748</span>
<span class="mi">143</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.6241963577006833</span>
<span class="mi">144</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.954703626294975</span>
<span class="mi">145</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.5851595630069796</span>
<span class="mi">146</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.899572525361026</span>
<span class="mi">147</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.6822688057449455</span>
<span class="mi">148</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.121089843102047</span>
<span class="mi">149</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.7199795815278756</span>
<span class="mi">150</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.3189125042285688</span>
<span class="mi">151</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.36850785731330393</span>
<span class="mi">152</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.948832953120265</span>
<span class="mi">153</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.6747680809659284</span>
<span class="mi">154</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">7.585698103491926</span>
<span class="mi">155</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.3957385948343446</span>
<span class="mi">156</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.149632062900691</span>
<span class="mi">157</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.0001387519541212</span>
<span class="mi">158</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.064483211734488</span>
<span class="mi">159</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.014021556676836</span>
<span class="mi">160</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.839818906123917</span>
<span class="mi">161</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.6576893499092915</span>
<span class="mi">162</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.41176973979169107</span>
<span class="mi">163</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.040678862856766</span>
<span class="mi">164</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.0029963443118484</span>
<span class="mi">165</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.511504386519214</span>
<span class="mi">166</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.48257710490002736</span>
<span class="mi">167</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.8889325125126666</span>
<span class="mi">168</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.0769714540447919</span>
<span class="mi">169</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.4991940991342783</span>
<span class="mi">170</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.8452022889720454</span>
<span class="mi">171</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.516275744333802</span>
<span class="mi">172</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.725984577303811</span>
<span class="mi">173</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.9205831842368308</span>
<span class="mi">174</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.6040433482387613</span>
<span class="mi">175</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.32970599211641105</span>
<span class="mi">176</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.1773292559300823</span>
<span class="mi">177</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.892212873755819</span>
<span class="mi">178</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.734421122212626</span>
<span class="mi">179</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.0930113767060443</span>
<span class="mi">180</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.9821944087033962</span>
<span class="mi">181</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.0950639443599046</span>
<span class="mi">182</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.562516534216394</span>
<span class="mi">183</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">6.469891429283252</span>
<span class="mi">184</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.0674606386803567</span>
<span class="mi">185</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.384535462236114</span>
<span class="mi">186</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.5119923887476956</span>
<span class="mi">187</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.6254181568250177</span>
<span class="mi">188</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.9836625190091618</span>
<span class="mi">189</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.9174184223606123</span>
<span class="mi">190</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.0199853616406527</span>
<span class="mi">191</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.8111192038560133</span>
<span class="mi">192</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">10.407061899273794</span>
<span class="mi">193</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.72524378393302</span>
<span class="mi">194</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">6.5851885546311975</span>
<span class="mi">195</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.1404034774868648</span>
<span class="mi">196</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.636485739510356</span>
<span class="mi">197</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.921803798658443</span>
<span class="mi">198</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.0045607379024382</span>
<span class="mi">199</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.4181948879174904</span>
<span class="mi">200</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.9243814391710954</span>
<span class="mi">201</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.9689954757334656</span>
<span class="mi">202</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.6152892965286134</span>
<span class="mi">203</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.491418211244451</span>
<span class="mi">204</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.7943475851127995</span>
<span class="mi">205</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.708324626597068</span>
<span class="mi">206</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.4056055297694825</span>
<span class="mi">207</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.9383160093489612</span>
<span class="mi">208</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.796686075010914</span>
<span class="mi">209</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.5067752382993014</span>
<span class="mi">210</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.1890706011637984</span>
<span class="mi">211</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.2162721207001304</span>
<span class="mi">212</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.07970309825956079</span>
<span class="mi">213</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.390719803057078</span>
<span class="mi">214</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.023971715053565</span>
<span class="mi">215</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.594247720308045</span>
<span class="mi">216</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.6777755011210067</span>
<span class="mi">217</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.84803515440484</span>
<span class="mi">218</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.4885463844271412</span>
<span class="mi">219</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">12.374531482863256</span>
<span class="mi">220</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.4283906796282415</span>
<span class="mi">221</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.8180474372486684</span>
<span class="mi">222</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.48501814715004365</span>
<span class="mi">223</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.5067704521200205</span>
<span class="mi">224</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.3976831205728673</span>
<span class="mi">225</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.9031827797634441</span>
<span class="mi">226</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.7285597986983434</span>
<span class="mi">227</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.470420726707453</span>
<span class="mi">228</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.675098906685946</span>
<span class="mi">229</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.3257056456054337</span>
<span class="mi">230</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.599052712780137</span>
<span class="mi">231</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.837619200685995</span>
<span class="mi">232</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.132937434663561</span>
<span class="mi">233</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.6398640882823536</span>
<span class="mi">234</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">3.0089508719252462</span>
<span class="mi">235</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.4124059496646582</span>
<span class="mi">236</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">5.771965407599035</span>
<span class="mi">237</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.14938189272241248</span>
<span class="mi">238</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.2057413172016676</span>
<span class="mi">239</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.7168330910785947</span>
<span class="mi">240</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">4.602205543920169</span>
<span class="mi">241</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.1236311175232636</span>
<span class="mi">242</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.531613551475053</span>
<span class="mi">243</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.703160579431794</span>
<span class="mi">244</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">2.2177892333102385</span>
<span class="mi">245</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">0.6465633467363304</span>
<span class="mi">246</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.2916378800473112</span>
<span class="mi">247</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">7.789851988626152</span>
<span class="mi">248</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.0605735856125091</span>
<span class="mi">249</span> <span class="o">--</span> <span class="n">optimal</span><span class="p">,</span> <span class="n">objective</span><span class="p">:</span> <span class="mf">1.151469126514078</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save the reconciled data to be used for parameter estimation</span>
<span class="n">df_result</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;econ_recon.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Create a new plot book to compare the original data to the reconciled data.</span>
    <span class="n">da</span><span class="o">.</span><span class="n">data_rec_plot_book</span><span class="p">(</span>
        <span class="n">df_data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">df_rec</span><span class="o">=</span><span class="n">df_result_cmp</span><span class="p">,</span>
        <span class="n">file</span><span class="o">=</span><span class="s2">&quot;econ_data_rec_plot_book.pdf&quot;</span><span class="p">,</span>
        <span class="n">bin_nom</span><span class="o">=</span><span class="s2">&quot;bin_power&quot;</span><span class="p">,</span>
        <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;gross power (W)&quot;</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="n">df_meta</span>
    <span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Plotting failed&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Plotting</span> <span class="n">data</span> <span class="n">requires</span> <span class="n">the</span> <span class="s1">&#39;seaborn&#39;</span> <span class="ow">and</span> <span class="s1">&#39;PyPDF2&#39;</span> <span class="n">packages</span><span class="o">.</span> <span class="n">Install</span> <span class="n">the</span> <span class="n">required</span> <span class="n">packages</span> <span class="n">before</span> <span class="n">using</span> <span class="n">the</span> <span class="n">data_book</span><span class="p">()</span> <span class="n">function</span><span class="o">.</span> <span class="n">Plot</span> <span class="n">terminated</span><span class="o">.</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright DOE Institute for the Design of Advanced Energy Systems (IDAES), 2018-2020.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<div id="bottombanner">
    The IDAES team:
    <ul>
        <li>National Energy Technology Laboratory (Lead)</li>
        <li>Sandia National Laboratory</li>
        <li>Lawrence Berkeley National Laboratory</li>
        <li>Carnegie-Mellon University (subcontract to LBNL)</li>
        <li>West Virginia University (subcontract to LBNL)</li>
    </ul>
    <div id="contactinfo">
        General, background and overview information<br/> is available at the
        <a href="https://www.idaes.org>">IDAES main website</a>
    </div>
</div>


</body>
</html>