

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Bimetallic Nanocluster Cohesive Energy Minimization - via Labeling &mdash; IDAES v1.11.0dev0 Examples</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<!-- Add Google fonts -->
<link href="https://fonts.googleapis.com/css?family=Arimo|Roboto&display=swap"
      rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> IDAES Examples
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Tutorials/index.html">IDAES Tutorials</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">IDAES Examples</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Bimetallic Nanocluster Cohesive Energy Minimization - via Labeling</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Examples/MatOpt/bimetallic_nanocluster_design.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bimetallic-nanocluster-cohesive-energy-minimization-via-labeling">
<h1>Bimetallic Nanocluster Cohesive Energy Minimization - via Labeling<a class="headerlink" href="#bimetallic-nanocluster-cohesive-energy-minimization-via-labeling" title="Permalink to this headline">¶</a></h1>
<p>This notebook serves as an example application of the MatOpt framework.
We consider an example optimization problem of identifying the global
energy minimum bimetallic nanocluster configuration.</p>
<p>This is a continuation of the example given in
<strong>*Monometallic_Nanocluster_Design.ipynb*</strong>. In this example, we will
show how a very similar model can be used to optimize a bimetallic
cluster by “labelling” the sites of a pre-defined monometallic cluster.</p>
<p>The model for cohesive energy is based on:</p>
<p>Yan, Z., Taylor, M. G., Mascareno, A., &amp; Mpourmpakis, G. (2018). Size-,
Shape-, and Composition-Dependent Model for Metal Nanoparticle Stability
Prediction. <em>Nano Letters</em>, 18(4), 2696-2704.</p>
<div class="section" id="importing-packages">
<h2>Importing Packages<a class="headerlink" href="#importing-packages" title="Permalink to this headline">¶</a></h2>
<p>We start by importing several standard Python modules for convienience.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>
</pre></div>
</div>
<p>Then, we import the MatOpt package in its entirety.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">idaes.apps.matopt</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-up-a-material-system">
<h2>Setting Up a Material System<a class="headerlink" href="#setting-up-a-material-system" title="Permalink to this headline">¶</a></h2>
<p>We first identify the optimal metal-independent nanocluster shape, using
the code that wsas demonstrated in
<strong>Monometallic_Nanocluster_Design.ipynb</strong>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Lat</span> <span class="o">=</span> <span class="n">FCCLattice</span><span class="p">(</span><span class="n">IAD</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">Canv</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">()</span>
<span class="n">Canv</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">))</span>
<span class="n">Canv</span><span class="o">.</span><span class="n">addShells</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">Lat</span><span class="o">.</span><span class="n">getNeighbors</span><span class="p">)</span>
<span class="n">Atoms</span> <span class="o">=</span> <span class="p">[</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">)]</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">MatOptModel</span><span class="p">(</span><span class="n">Canv</span><span class="p">,</span><span class="n">Atoms</span><span class="p">)</span>
<span class="n">Vals</span> <span class="o">=</span> <span class="p">[</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CN</span><span class="p">)</span> <span class="k">for</span> <span class="n">CN</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span>
<span class="n">BPs</span> <span class="o">=</span> <span class="p">[</span><span class="n">CN</span> <span class="k">for</span> <span class="n">CN</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span>
<span class="n">m</span><span class="o">.</span><span class="n">addSitesDescriptor</span><span class="p">(</span><span class="s1">&#39;CNRi&#39;</span><span class="p">,</span><span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">12</span><span class="p">)),</span><span class="n">integer</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                     <span class="n">rules</span><span class="o">=</span><span class="n">PiecewiseLinear</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">Vals</span><span class="p">,</span>
                                           <span class="n">breakpoints</span><span class="o">=</span><span class="n">BPs</span><span class="p">,</span>
                                           <span class="n">input_desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">Ci</span><span class="p">))</span>
<span class="n">m</span><span class="o">.</span><span class="n">addGlobalDescriptor</span><span class="p">(</span><span class="s1">&#39;Ecoh&#39;</span><span class="p">,</span><span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumSites</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">CNRi</span><span class="p">,</span>
                                                    <span class="n">coefs</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">12</span><span class="p">))))))</span>
<span class="n">m</span><span class="o">.</span><span class="n">addGlobalDescriptor</span><span class="p">(</span><span class="s1">&#39;Size&#39;</span><span class="p">,</span><span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="n">N</span><span class="p">,</span><span class="n">N</span><span class="p">),</span>
                      <span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumSites</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">Yi</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This step requires the CPLEX solver</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">D</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">maximize</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">Ecoh</span><span class="p">,</span><span class="n">tilim</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
    <span class="n">D</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># rest of this notebook won&#39;t do much</span>
</pre></div>
</div>
<pre class="literal-block">Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer Community Edition 12.9.0.0
  with Simplex, Mixed Integer &amp; Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            &quot;nWelcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer Community
            Edition 12.9.0.0n  with Simplex, Mixed Integer &amp; Barrier
            Optimizersn5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55
            5655-Y21nCopyright IBM Corp. 1988, 2019.  All Rights Reserved.nnType
            'help' for a list of available commands.nType 'help' followed by a
            command name for moreninformation on commands.nn&quot;
CPLEX&gt; Logfile 'cplex.log' closed.
Logfile '/tmp/tmpazre3tiy.cplex.log' open.
CPLEX&gt; New value for absolute mixed integer optimality gap tolerance: 0
CPLEX&gt; New value for mixed integer optimality gap tolerance: 0
CPLEX&gt; New value for time limit in seconds: 100
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            &quot;CPLEX&gt; Logfile 'cplex.log' closed.nLogfile '/tmp/tmpazre3tiy.cplex.log'
            open.nCPLEX&gt; New value for absolute mixed integer optimality gap
            tolerance: 0nCPLEX&gt; New value for mixed integer optimality gap
            tolerance: 0nCPLEX&gt; New value for time limit in seconds: 100n&quot;
CPLEX&gt; Problem '/tmp/tmpfe96ke_k.pyomo.lp' read.
Read time = 0.00 sec. (0.06 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            &quot;CPLEX&gt; Problem '/tmp/tmpfe96ke_k.pyomo.lp' read.nRead time = 0.00 sec.
            (0.06 ticks)n&quot;
CPLEX&gt; Problem name         : /tmp/tmpfe96ke_k.pyomo.lp
Objective sense      : Maximize
Variables            :     426  [Nneg: 1,  Fix: 1,  Box: 13,  Free: 157,
                                 Binary: 241,  General Integer: 13]
Objective nonzeros   :       1
Linear constraints   :     583  [Less: 515,  Greater: 13,  Equal: 55]
  Nonzeros           :    1866
  RHS nonzeros       :      86

Variables            : Min LB: 0.000000         Max UB: 12.00000
Objective nonzeros   : Min   : 1.000000         Max   : 1.000000
Linear constraints   :
  Nonzeros           : Min   : 0.04811252       Max   : 12.00000
  RHS nonzeros       : Min   : 1.000000         Max   : 1.000000
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'CPLEX&gt; Problem name         : /tmp/tmpfe96ke_k.pyomo.lpnObjective sense
            : MaximizenVariables            :     426  [Nneg: 1,  Fix: 1,  Box: 13,
            Free: 157,n                                 Binary: 241,  General
            Integer: 13]nObjective nonzeros   :       1nLinear constraints   :
            583  [Less: 515,  Greater: 13,  Equal: 55]n  Nonzeros           :
            1866n  RHS nonzeros       :      86nnVariables            : Min LB:
            0.000000         Max UB: 12.00000       nObjective nonzeros   : Min   :
            1.000000         Max   : 1.000000       nLinear constraints   :n
            Nonzeros           : Min   : 0.04811252       Max   : 12.00000       n
            RHS nonzeros       : Min   : 1.000000         Max   : 1.000000       n'
CPLEX&gt; CPXPARAM_TimeLimit                               100
CPXPARAM_MIP_Tolerances_AbsMIPGap                0
CPXPARAM_MIP_Tolerances_MIPGap                   0
Tried aggregator 2 times.
MIP Presolve eliminated 171 rows and 147 columns.
MIP Presolve modified 12 coefficients.
Aggregator did 38 substitutions.
Reduced MIP has 374 rows, 241 columns, and 1149 nonzeros.
Reduced MIP has 156 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.00 sec. (1.49 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'CPLEX&gt; CPXPARAM_TimeLimit
            100nCPXPARAM_MIP_Tolerances_AbsMIPGap
            0nCPXPARAM_MIP_Tolerances_MIPGap                   0nTried aggregator 2
            times.nMIP Presolve eliminated 171 rows and 147 columns.nMIP Presolve
            modified 12 coefficients.nAggregator did 38 substitutions.nReduced MIP
            has 374 rows, 241 columns, and 1149 nonzeros.nReduced MIP has 156
            binaries, 0 generals, 0 SOSs, and 0 indicators.nPresolve time = 0.00
            sec. (1.49 ticks)n'
Found incumbent of value 0.521849 after 0.00 sec. (2.09 ticks)
Probing time = 0.00 sec. (1.36 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Found incumbent of value 0.521849 after 0.00 sec. (2.09 ticks)nProbing
            time = 0.00 sec. (1.36 ticks)n'
Cover probing fixed 0 vars, tightened 1 bounds.
Tried aggregator 1 time.
MIP Presolve eliminated 2 rows and 1 columns.
Reduced MIP has 372 rows, 240 columns, and 1144 nonzeros.
Reduced MIP has 156 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.00 sec. (1.50 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Cover probing fixed 0 vars, tightened 1 bounds.nTried aggregator 1
            time.nMIP Presolve eliminated 2 rows and 1 columns.nReduced MIP has 372
            rows, 240 columns, and 1144 nonzeros.nReduced MIP has 156 binaries, 0
            generals, 0 SOSs, and 0 indicators.nPresolve time = 0.00 sec. (1.50
            ticks)n'
Probing time = 0.00 sec. (1.31 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Probing time = 0.00 sec. (1.31 ticks)n'
Clique table members: 880.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: deterministic, using up to 32 threads.
Root relaxation solution time = 0.00 sec. (3.19 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

*     0+    0                            0.5218        2.1667           315.19%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Clique table members: 880.nMIP emphasis: balance optimality and
            feasibility.nMIP search method: dynamic search.nParallel mode:
            deterministic, using up to 32 threads.nRoot relaxation solution time =
            0.00 sec. (3.19 ticks)nn        Nodes
            Cuts/n   Node  Left     Objective  IInf  Best Integer    Best Bound
            ItCnt     Gapnn*     0+    0                            0.5218
            2.1667           315.19%n'
      0     0        0.9861   105        0.5218        0.9861      278   88.96%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.9861   105        0.5218        0.9861      278
            88.96%n'
      0     0        0.6455    96        0.5218      Cuts: 68      386   23.69%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.6455    96        0.5218      Cuts: 68      386
            23.69%n'
*     0+    0                            0.5485        0.6455            17.68%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '*     0+    0                            0.5485        0.6455
            17.68%n'
      0     0        0.6351    99        0.5485      Cuts: 82      430   15.80%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.6351    99        0.5485      Cuts: 82      430
            15.80%n'
      0     0        0.6329    93        0.5485  ZeroHalf: 24      446   15.39%
      0     0        0.6326    99        0.5485  ZeroHalf: 34      465   15.33%
      0     0        0.6324    99        0.5485      Cuts: 22      476   15.29%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.6329    93        0.5485  ZeroHalf: 24      446
            15.39%n      0     0        0.6326    99        0.5485  ZeroHalf: 34
            465   15.33%n      0     0        0.6324    99        0.5485      Cuts:
            22      476   15.29%n'
      0     0        0.6067    96        0.5485      Cuts: 41      533   10.62%
      0     0        0.6050    96        0.5485  ZeroHalf: 19      553   10.30%
      0     0        0.6048    97        0.5485  ZeroHalf: 28      563   10.27%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.6067    96        0.5485      Cuts: 41      533
            10.62%n      0     0        0.6050    96        0.5485  ZeroHalf: 19
            553   10.30%n      0     0        0.6048    97        0.5485  ZeroHalf:
            28      563   10.27%n'
      0     0        0.6033    99        0.5485  ZeroHalf: 18      591    9.99%
      0     0        0.6021    97        0.5485  ZeroHalf: 20      619    9.77%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.6033    99        0.5485  ZeroHalf: 18      591
            9.99%n      0     0        0.6021    97        0.5485  ZeroHalf: 20
            619    9.77%n'
      0     0        0.6005   100        0.5485  ZeroHalf: 41      637    9.48%
      0     0        0.5994    95        0.5485  ZeroHalf: 35      671    9.28%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.6005   100        0.5485  ZeroHalf: 41      637
            9.48%n      0     0        0.5994    95        0.5485  ZeroHalf: 35
            671    9.28%n'
      0     0        0.5988    98        0.5485  ZeroHalf: 12      686    9.17%
      0     0        0.5983    99        0.5485  ZeroHalf: 19      719    9.08%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.5988    98        0.5485  ZeroHalf: 12      686
            9.17%n      0     0        0.5983    99        0.5485  ZeroHalf: 19
            719    9.08%n'
      0     0        0.5980    99        0.5485  ZeroHalf: 13      731    9.02%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.5980    99        0.5485  ZeroHalf: 13      731
            9.02%n'
      0     0        0.5976    99        0.5485  ZeroHalf: 11      753    8.95%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.5976    99        0.5485  ZeroHalf: 11      753
            8.95%n'
      0     0        0.5973    94        0.5485  ZeroHalf: 15      769    8.90%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.5973    94        0.5485  ZeroHalf: 15      769
            8.90%n'
      0     0        0.5968    99        0.5485   ZeroHalf: 4      793    8.81%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.5968    99        0.5485   ZeroHalf: 4      793
            8.81%n'
      0     0        0.5963    99        0.5485   ZeroHalf: 4      815    8.72%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        0.5963    99        0.5485   ZeroHalf: 4      815
            8.72%n'
*     0+    0                            0.5500        0.5963             8.42%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '*     0+    0                            0.5500        0.5963
            8.42%n'
      0     0        cutoff              0.5500        0.5500      831    0.00%
Elapsed time = 0.22 sec. (98.42 ticks, tree = 0.01 MB, solutions = 3)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        cutoff              0.5500        0.5500      831
            0.00%nElapsed time = 0.22 sec. (98.42 ticks, tree = 0.01 MB, solutions =
            3)n'

Clique cuts applied:  10
Implied bound cuts applied:  20
Zero-half cuts applied:  17
Lift and project cuts applied:  1
Gomory fractional cuts applied:  1

Root node processing (before b&amp;c):
  Real time             =    0.22 sec. (98.44 ticks)
Parallel b&amp;c, 32 threads:
  Real time             =    0.00 sec. (0.00 ticks)
  Sync time (average)   =    0.00 sec.
  Wait time (average)   =    0.00 sec.
                          ------------
Total (root+branch&amp;cut) =    0.22 sec. (98.44 ticks)

Solution pool: 3 solutions saved.

MIP - Integer optimal solution:  Objective =  5.5003296046e-01
Solution time =    0.23 sec.  Iterations = 831  Nodes = 0
Deterministic time = 98.45 ticks  (431.12 ticks/sec)

ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'nClique cuts applied:  10nImplied bound cuts applied:  20nZero-half
            cuts applied:  17nLift and project cuts applied:  1nGomory fractional
            cuts applied:  1nnRoot node processing (before b&amp;c):n  Real time
            =    0.22 sec. (98.44 ticks)nParallel b&amp;c, 32 threads:n  Real time
            =    0.00 sec. (0.00 ticks)n  Sync time (average)   =    0.00 sec.n
            Wait time (average)   =    0.00 sec.n
            ------------nTotal (root+branch&amp;cut) =    0.22 sec. (98.44
            ticks)nnSolution pool: 3 solutions saved.nnMIP - Integer optimal
            solution:  Objective =  5.5003296046e-01nSolution time =    0.23 sec.
            Iterations = 831  Nodes = 0nDeterministic time = 98.45 ticks  (431.12
            ticks/sec)nn'
CPLEX&gt; Incumbent solution written to file '/tmp/tmpgezu7c5j.cplex.sol'.
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            &quot;CPLEX&gt; Incumbent solution written to file
            '/tmp/tmpgezu7c5j.cplex.sol'.n&quot;
CPLEX&gt; ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'CPLEX&gt; '
The solver exited normally.
A feasible and provably optimal solution is available.
The Design has objective: 0.5500329604578591</pre>
<p>We take the locations from the optimal monometallic problem to
initialize a <strong>*Canvas*</strong> object for the bimetallic case.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Canv</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">()</span>
<span class="k">if</span> <span class="n">D</span><span class="p">:</span>  <span class="c1"># may be None if CPLEX was not found</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">D</span><span class="p">)):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">Contents</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">Canv</span><span class="o">.</span><span class="n">addLocation</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">Canvas</span><span class="o">.</span><span class="n">Points</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="n">Canv</span><span class="o">.</span><span class="n">setNeighborsFromFunc</span><span class="p">(</span><span class="n">Lat</span><span class="o">.</span><span class="n">getNeighbors</span><span class="p">)</span>
</pre></div>
</div>
<p>Additionally, we create a few data structures for holding bimetallic
material information. First, we make a list of multiple <strong>*Atom*</strong>
objects that will be the building blocks of the model. Next, we specify
a dictionary with the bounds to impose on composition.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Atoms</span> <span class="o">=</span> <span class="p">[</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">)]</span>
<span class="n">CompBounds</span> <span class="o">=</span> <span class="p">{</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">):(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
              <span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">):(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="section" id="specifying-an-optimization-model">
<h2>Specifying an Optimization Model<a class="headerlink" href="#specifying-an-optimization-model" title="Permalink to this headline">¶</a></h2>
<p>We start by creating a <strong>*MatOptModel*</strong> object that will hold the
information about the problem variables and constraints. At a minimum,
ever model requires a Canvas object to be defined. Additionally, the
list of building blocks and conformations that are present in the model
should be defined.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">MatOptModel</span><span class="p">(</span><span class="n">Canv</span><span class="p">,</span><span class="n">Atoms</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, several basic variables are pre-defined. See the first
example, <strong>*Monometallic_Nanocluster_Design.ipynb*</strong> for a description
of basic variables, expressions, and constraint rules.</p>
<p>To start, we inidcate that the choice to place an atom is fixed so that
each canvas site is required to have an atom. This simplifies the
problem significantly and results in a model that will seek to find the
optimal labeling of metals on the nanocluster.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">Yi</span><span class="o">.</span><span class="n">rules</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">FixedTo</span><span class="p">(</span><span class="mf">1.0</span><span class="p">))</span>
</pre></div>
</div>
<p>Next, we define a descriptor for the energy of bonds as a function of
properties at each site. Since the locations of the atoms are fixed, the
only decision is how to label each site as either Atom A or Atom B. This
allows us to simplify the model and compute coefficients that rely on
coordination number. In the block below, we implement the bimetallic
model for bond energy defined in Yan et al., 2018.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GklCoefs</span> <span class="o">=</span> <span class="p">{(</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">)):</span><span class="mf">3.520</span><span class="p">,</span>
            <span class="p">(</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">)):</span><span class="mf">2.112</span><span class="p">,</span>
            <span class="p">(</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">)):</span><span class="mf">2.580</span><span class="p">,</span>
            <span class="p">(</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Ag&#39;</span><span class="p">),</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">)):</span><span class="mf">3.612</span><span class="p">}</span>
<span class="n">BEijCoefs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Canv</span><span class="p">)):</span>
    <span class="n">CNi</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">Canv</span><span class="o">.</span><span class="n">NeighborhoodIndexes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">if</span> <span class="n">_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">Canv</span><span class="o">.</span><span class="n">NeighborhoodIndexes</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
        <span class="k">if</span><span class="p">(</span><span class="n">j</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">CNj</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">Canv</span><span class="o">.</span><span class="n">NeighborhoodIndexes</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="k">if</span> <span class="n">_</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">Atoms</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">Atoms</span><span class="p">:</span>
                    <span class="n">BEijCoefs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">GklCoefs</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">l</span><span class="p">]</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CNi</span><span class="p">)</span> <span class="o">+</span> <span class="n">GklCoefs</span><span class="p">[</span><span class="n">l</span><span class="p">,</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="mi">1</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CNj</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">addBondsDescriptor</span><span class="p">(</span><span class="s1">&#39;BEij&#39;</span><span class="p">,</span>
                     <span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumBondTypes</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">Xijkl</span><span class="p">,</span><span class="n">coefs</span><span class="o">=</span><span class="n">BEijCoefs</span><span class="p">)),</span>
                     <span class="n">symmetric_bonds</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Next, we define the cohesive energy as a sum of contributions from all
BEij bond descriptors.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">addGlobalDescriptor</span><span class="p">(</span><span class="s1">&#39;Ecoh&#39;</span><span class="p">,</span><span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumBonds</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">BEij</span><span class="p">,</span>
                                                    <span class="n">coefs</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">*</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">12</span><span class="p">)))))</span>
</pre></div>
</div>
<p>Finally, we add constraints on the size and composition of the resulting
designs.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">addGlobalTypesDescriptor</span><span class="p">(</span><span class="s1">&#39;Composition&#39;</span><span class="p">,</span><span class="n">bounds</span><span class="o">=</span><span class="n">CompBounds</span><span class="p">,</span>
                           <span class="n">rules</span><span class="o">=</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">SumSites</span><span class="p">(</span><span class="n">desc</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">Yik</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="section" id="solving-the-model">
<h2>Solving the Model<a class="headerlink" href="#solving-the-model" title="Permalink to this headline">¶</a></h2>
<p>Once the model is fully specified, we can optimize in light of a global
descriptor. In this example, we choose to maximize the cohesive energy
defined previously. Additionally, we can specify basic optimization
parameters such as the time limit and memory limit* for the optimizer.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">D</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">D</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">maximize</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">Ecoh</span><span class="p">,</span><span class="n">tilim</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span><span class="n">trelim</span><span class="o">=</span><span class="mi">4096</span><span class="p">)</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;MaOpt can not find usable solver (CPLEX or NEOS-CPLEX)&#39;</span><span class="p">)</span>
</pre></div>
</div>
<pre class="literal-block">WARNING: DEPRECATED: SetProduct.set_tuple is deprecated.  Use
    SetProduct.subsets() to get the operator arguments.  (deprecated in 5.7)
    (called from /home/lbianchi/opt/conda/envs/examples-
    rel/lib/python3.7/site-
    packages/idaes/apps/matopt/../matopt/opt/pyomo_modeling.py:284)

Welcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer Community Edition 12.9.0.0
  with Simplex, Mixed Integer &amp; Barrier Optimizers
5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21
Copyright IBM Corp. 1988, 2019.  All Rights Reserved.

Type 'help' for a list of available commands.
Type 'help' followed by a command name for more
information on commands.

ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            &quot;nWelcome to IBM(R) ILOG(R) CPLEX(R) Interactive Optimizer Community
            Edition 12.9.0.0n  with Simplex, Mixed Integer &amp; Barrier
            Optimizersn5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55
            5655-Y21nCopyright IBM Corp. 1988, 2019.  All Rights Reserved.nnType
            'help' for a list of available commands.nType 'help' followed by a
            command name for moreninformation on commands.nn&quot;
CPLEX&gt; Logfile 'cplex.log' closed.
Logfile '/tmp/tmpevilgppe.cplex.log' open.
CPLEX&gt; New value for absolute mixed integer optimality gap tolerance: 0
CPLEX&gt; New value for mixed integer optimality gap tolerance: 0
CPLEX&gt; New value for time limit in seconds: 360
CPLEX&gt; New value for upper limit on size of tree in megabytes: 4096
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            &quot;CPLEX&gt; Logfile 'cplex.log' closed.nLogfile '/tmp/tmpevilgppe.cplex.log'
            open.nCPLEX&gt; New value for absolute mixed integer optimality gap
            tolerance: 0nCPLEX&gt; New value for mixed integer optimality gap
            tolerance: 0nCPLEX&gt; New value for time limit in seconds: 360nCPLEX&gt; New
            value for upper limit on size of tree in megabytes: 4096n&quot;
CPLEX&gt; Problem '/tmp/tmppzmcg9i7.pyomo.lp' read.
Read time = 0.00 sec. (0.01 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            &quot;CPLEX&gt; Problem '/tmp/tmppzmcg9i7.pyomo.lp' read.nRead time = 0.00 sec.
            (0.01 ticks)n&quot;
CPLEX&gt; Problem name         : /tmp/tmppzmcg9i7.pyomo.lp
Objective sense      : Maximize
Variables            :      71  [Nneg: 1,  Fix: 2,  Free: 12,  Binary: 56]
Objective nonzeros   :       1
Linear constraints   :     159  [Less: 138,  Equal: 21]
  Nonzeros           :     414
  RHS nonzeros       :      57

Variables            : Min LB: 0.000000         Max UB: 3.000000
Objective nonzeros   : Min   : 1.000000         Max   : 1.000000
Linear constraints   :
  Nonzeros           : Min   : 0.04811252       Max   : 4.064546
  RHS nonzeros       : Min   : 1.000000         Max   : 1.000000
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'CPLEX&gt; Problem name         : /tmp/tmppzmcg9i7.pyomo.lpnObjective sense
            : MaximizenVariables            :      71  [Nneg: 1,  Fix: 2,  Free: 12,
            Binary: 56]nObjective nonzeros   :       1nLinear constraints   :
            159  [Less: 138,  Equal: 21]n  Nonzeros           :     414n  RHS
            nonzeros       :      57nnVariables            : Min LB: 0.000000
            Max UB: 3.000000       nObjective nonzeros   : Min   : 1.000000
            Max   : 1.000000       nLinear constraints   :n  Nonzeros           :
            Min   : 0.04811252       Max   : 4.064546       n  RHS nonzeros       :
            Min   : 1.000000         Max   : 1.000000       n'
CPLEX&gt; CPXPARAM_TimeLimit                               360
CPXPARAM_MIP_Tolerances_AbsMIPGap                0
CPXPARAM_MIP_Tolerances_MIPGap                   0
CPXPARAM_MIP_Limits_TreeMemory                   4096
Tried aggregator 2 times.
MIP Presolve eliminated 20 rows and 15 columns.
Aggregator did 6 substitutions.
Reduced MIP has 133 rows, 50 columns, and 314 nonzeros.
Reduced MIP has 50 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.00 sec. (0.44 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'CPLEX&gt; CPXPARAM_TimeLimit
            360nCPXPARAM_MIP_Tolerances_AbsMIPGap
            0nCPXPARAM_MIP_Tolerances_MIPGap
            0nCPXPARAM_MIP_Limits_TreeMemory                   4096nTried
            aggregator 2 times.nMIP Presolve eliminated 20 rows and 15
            columns.nAggregator did 6 substitutions.nReduced MIP has 133 rows, 50
            columns, and 314 nonzeros.nReduced MIP has 50 binaries, 0 generals, 0
            SOSs, and 0 indicators.nPresolve time = 0.00 sec. (0.44 ticks)n'
Found incumbent of value 1.546227 after 0.00 sec. (0.80 ticks)
Probing time = 0.00 sec. (0.23 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Found incumbent of value 1.546227 after 0.00 sec. (0.80 ticks)nProbing
            time = 0.00 sec. (0.23 ticks)n'
Tried aggregator 1 time.
Reduced MIP has 133 rows, 50 columns, and 314 nonzeros.
Reduced MIP has 50 binaries, 0 generals, 0 SOSs, and 0 indicators.
Presolve time = 0.00 sec. (0.30 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Tried aggregator 1 time.nReduced MIP has 133 rows, 50 columns, and 314
            nonzeros.nReduced MIP has 50 binaries, 0 generals, 0 SOSs, and 0
            indicators.nPresolve time = 0.00 sec. (0.30 ticks)n'
Probing time = 0.00 sec. (0.23 ticks)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Probing time = 0.00 sec. (0.23 ticks)n'
Clique table members: 263.
MIP emphasis: balance optimality and feasibility.
MIP search method: dynamic search.
Parallel mode: deterministic, using up to 32 threads.
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Clique table members: 263.nMIP emphasis: balance optimality and
            feasibility.nMIP search method: dynamic search.nParallel mode:
            deterministic, using up to 32 threads.n'
Root relaxation solution time = 0.00 sec. (0.30 ticks)

        Nodes                                         Cuts/
   Node  Left     Objective  IInf  Best Integer    Best Bound    ItCnt     Gap

*     0+    0                            1.5462        6.5036           320.61%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'Root relaxation solution time = 0.00 sec. (0.30 ticks)nn        Nodes
            Cuts/n   Node  Left     Objective  IInf  Best Integer    Best Bound
            ItCnt     Gapnn*     0+    0                            1.5462
            6.5036           320.61%n'
*     0+    0                            1.6517        6.5036           293.74%
      0     0        3.2518    50        1.6517        3.2518       50   96.87%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '*     0+    0                            1.6517        6.5036
            293.74%n      0     0        3.2518    50        1.6517        3.2518
            50   96.87%n'
*     0+    0                            1.6556        3.2518            96.41%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '*     0+    0                            1.6556        3.2518
            96.41%n'
      0     0        2.1027    38        1.6556     Cuts: 112       96   27.01%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        2.1027    38        1.6556     Cuts: 112       96
            27.01%n'
*     0+    0                            1.6754        2.1027            25.50%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '*     0+    0                            1.6754        2.1027
            25.50%n'
      0     0        1.8260    31        1.6754      Cuts: 41      120    8.99%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        1.8260    31        1.6754      Cuts: 41      120
            8.99%n'
      0     0        1.8217    16        1.6754   ZeroHalf: 9      121    8.73%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        1.8217    16        1.6754   ZeroHalf: 9      121
            8.73%n'
      0     0        1.8121    33        1.6754   ZeroHalf: 2      124    8.16%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        1.8121    33        1.6754   ZeroHalf: 2      124
            8.16%n'
      0     0        1.7548    15        1.6754       Cuts: 7      126    4.74%
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        1.7548    15        1.6754       Cuts: 7      126
            4.74%n'
      0     0        cutoff              1.6754                    129     ---
Elapsed time = 0.03 sec. (8.81 ticks, tree = 0.01 MB, solutions = 4)
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            '      0     0        cutoff              1.6754                    129
            --- nElapsed time = 0.03 sec. (8.81 ticks, tree = 0.01 MB, solutions =
            4)n'

Clique cuts applied:  40
Implied bound cuts applied:  6
Zero-half cuts applied:  13
Lift and project cuts applied:  1

Root node processing (before b&amp;c):
  Real time             =    0.03 sec. (8.81 ticks)
Parallel b&amp;c, 32 threads:
  Real time             =    0.00 sec. (0.00 ticks)
  Sync time (average)   =    0.00 sec.
  Wait time (average)   =    0.00 sec.
                          ------------
Total (root+branch&amp;cut) =    0.03 sec. (8.81 ticks)

Solution pool: 4 solutions saved.

MIP - Integer optimal solution:  Objective =  1.6754118151e+00
Solution time =    0.04 sec.  Iterations = 129  Nodes = 0
Deterministic time = 8.81 ticks  (224.91 ticks/sec)

ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'nClique cuts applied:  40nImplied bound cuts applied:  6nZero-half
            cuts applied:  13nLift and project cuts applied:  1nnRoot node
            processing (before b&amp;c):n  Real time             =    0.03 sec. (8.81
            ticks)nParallel b&amp;c, 32 threads:n  Real time             =    0.00 sec.
            (0.00 ticks)n  Sync time (average)   =    0.00 sec.n  Wait time
            (average)   =    0.00 sec.n                          ------------nTotal
            (root+branch&amp;cut) =    0.03 sec. (8.81 ticks)nnSolution pool: 4
            solutions saved.nnMIP - Integer optimal solution:  Objective =
            1.6754118151e+00nSolution time =    0.04 sec.  Iterations = 129  Nodes =
            0nDeterministic time = 8.81 ticks  (224.91 ticks/sec)nn'
CPLEX&gt; Incumbent solution written to file '/tmp/tmpk8rmkssk.cplex.sol'.
ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            &quot;CPLEX&gt; Incumbent solution written to file
            '/tmp/tmpk8rmkssk.cplex.sol'.n&quot;
CPLEX&gt; ERROR: Output stream closed before all output was written to it. The following
    was left in the output buffer:
            'CPLEX&gt; '
The solver exited normally.
A feasible and provably optimal solution is available.
The Design has objective: 1.6754118151174977</pre>
</div>
<div class="section" id="processing-solutions">
<h2>Processing Solutions<a class="headerlink" href="#processing-solutions" title="Permalink to this headline">¶</a></h2>
<p>If a design was identified (optimal or otherwise), then a <strong>*Design*</strong>
object is returned from the optimization method. The optimal design can
be plotted via any of the supported parsers.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">D</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">D</span><span class="o">.</span><span class="n">toPDB</span><span class="p">(</span><span class="s1">&#39;result.pdb&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright DOE Institute for the Design of Advanced Energy Systems (IDAES), 2018-2020.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<div id="bottombanner">
    The IDAES team:
    <ul>
        <li>National Energy Technology Laboratory (Lead)</li>
        <li>Sandia National Laboratory</li>
        <li>Lawrence Berkeley National Laboratory</li>
        <li>Carnegie-Mellon University (subcontract to LBNL)</li>
        <li>West Virginia University (subcontract to LBNL)</li>
    </ul>
    <div id="contactinfo">
        General, background and overview information<br/> is available at the
        <a href="https://www.idaes.org>">IDAES main website</a>
    </div>
</div>


</body>
</html>